"use strict";(self.webpackChunkexamples=self.webpackChunkexamples||[]).push([[253],{18:(e,t,r)=>{r.d(t,{B9:()=>i,G7:()=>u,Ig:()=>m,US:()=>c,ZS:()=>l,fo:()=>f,k1:()=>d,kK:()=>a});var n=r(2289),o=r(9344),s=function(e){return{eq:e}},i=s((function(e,t){return e===t})),a=i,c=i,l=i,u=i,d=function(e){return s((function(t,r){if(t.length!==r.length)return!1;for(var n=t.length,o=0;o<n;o++)if(!e.eq(t[o],r[o]))return!1;return!0}))},m=function(e){return s((function(t,r){var n=Object.keys(t),i=Object.keys(r);if(!function(e,t){return function(e,t){return s((function(r,n){return e.eq(t(r),t(n))}))}(d(e),(function(e){return o.di(e,t)}))}(a).eq(n,i))return!1;for(var c=n.length,l=0;l<c;l++){var u=n[l];if(!e.eq(t[u],r[u]))return!1}return!0}))},f=s((function(e,t){if(e===t)return!0;var r=n.QP(e);return r===n.QP(t)&&(n.$6(r)?e===t:"array"===r?d(f).eq(e,t):"object"===r&&m(f).eq(e,t))}))},398:(e,t,r)=>{r.d(t,{HR:()=>o,mL:()=>g,xA:()=>n,HH:()=>w});var n={};r.r(n),r.d(n,{isAssertionError:()=>f,isHTMLDiffError:()=>m,isPprintAssertionError:()=>d,pprintAssertionError:()=>u});var o={};r.r(o),r.d(o,{normalizeError:()=>p,prepFailure:()=>h});var s,i=r(1632),a=function(e,t){return i.E3(e.split("\n"),t.split("\n")).map((function(e){var t=(e.removed?"-":e.added?"+":" ")+" | ";return t+e.value.join("\n"+t)})).join("\n")},c=function(e){return void 0===e?"undefined":"string"==typeof e?e:JSON.stringify(e)},l=function(e){return e},u=function(e,t,r){var n=new Error(e);return n.name="PprintAssertionError",n.diff={actual:r,expected:t},n.toString=function(){return function(e){var t=function(e){return m(e)||d(e)?function(e){var t=e.diff.actual,r=e.diff.expected,n=m(e)?e.diff.comparison:a(t,r);return{type:e.name,message:"Test failure: ".concat(e.message),diff:{actual:t,expected:r,comparison:n}}}(e):f(e)?function(e){var t,r=c(e.actual),n=c(e.expected),o="Assertion error: ".concat(null!==(t=e.message)&&void 0!==t?t:"");return!1!==e.showDiff?{type:e.name,message:o,diff:{expected:n,actual:r,comparison:a(r,n)}}:{type:e.name,message:o}}(e):e.name&&e.message?{type:"Error",message:e.name+": "+e.message}:void 0!==e.toString?{type:"Error",message:String(e)}:{type:"Error",message:JSON.stringify(e)}}(e);return function(e,t,r){var n=t(e.message),o=function(e,t,r){if(e.diff){var n="HtmlAssertion"===e.type?t(e.diff.comparison):void 0,o=r(e.diff.actual,e.diff.expected,n);return"Expected:\n".concat(t(e.diff.expected),"\nActual:\n").concat(t(e.diff.actual),"\nDiff:\n").concat(o)}return""}(e,t,r);return o.length>0?"".concat(n,"\n").concat(o):n}(t,l,a)}(n)},n},d=function(e){return"PprintAssertionError"===e.name},m=function(e){return"HtmlAssertion"===e.name},f=function(e){return"AssertionError"===e.name};!function(e){e[e.Original=0]="Original",e[e.Started=1]="Started",e[e.Finished=2]="Finished"}(s||(s={}));var p=function(e){if("string"==typeof e){var t=new Error(e);return t.stack=function(e,t){if(void 0===t&&(t=1),void 0===e.stack)return"";var r=e.stack.split("\n"),n=r[0];return-1!==n.indexOf("normalizeError")?r.slice(t).join("\n"):n+"\n"+r.slice(1+t).join("\n")}(t,2),t}if("function"==typeof e)return p(e());if(f(e)){var r=new Error(e.message);return r.name=e.name,r.stack=e.stack,Object.keys(e).forEach((function(t){r[t]=e[t]})),r}return e},h=function(e,t){if(void 0===t&&(t={history:[]}),"object"==typeof(r=e)&&Object.prototype.hasOwnProperty.call(r,"logs"))return e;var r,n=p(e),o=function(e){var t=function(e,r){for(var n=[],o="",s=0;s<e;s++)o+=" ";var i=function(s){var i,a=r[s],c=(i=null===a.trace||"string"!=typeof a.trace?[]:["",""].concat(a.trace.split("\n")),0===a.entries.length?null===a.trace?[o+"*  "+a.message]:[o+"*  "+a.message].concat(i):[o+"*  "+a.message].concat(t(e+2,a.entries)).concat(i));n=n.concat(c)};for(s=0;s<r.length;s++)i(s);return n};return t(2,e.history)}(t);return function(e,t){var r=e;return r.logs=t,r}(n,o)},g="undefined"!=typeof window?window:Function("return this;")(),v=function(e){return"function"==typeof e?e():e},y=function(e,t){return null==e?t:e},w={or:y,asString:v,asStringOr:function(e,t){return v(y(e,t))},map:function(e,t){return function(){return v(t(v(e)))}},concat:function(e,t){return function(){return v(e)+v(t)}}},b=function(e){return function(t){return function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}(t)===e}};b("string"),b("object")},2289:(e,t,r)=>{r.d(t,{$6:()=>f,Et:()=>m,Gv:()=>i,Kg:()=>s,Lm:()=>l,QP:()=>n,Tn:()=>d,b0:()=>u,cy:()=>a,kZ:()=>c});var n=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},o=function(e){return function(t){return n(t)===e}},s=o("string"),i=o("object"),a=o("array"),c=o("null"),l=o("boolean"),u=o("undefined"),d=o("function"),m=o("number"),f=function(e){return-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(e)}},2480:(e,t,r)=>{r.d(t,{nW:()=>m,xn:()=>O,Gs:()=>o,c1:()=>v,j7:()=>c,BD:()=>l,OG:()=>u,Ed:()=>p,AL:()=>d,n$:()=>f,mD:()=>S,Xz:()=>n,By:()=>xr,FG:()=>g,VX:()=>H,_1:()=>w,HP:()=>s,w0:()=>Ut,Ps:()=>a,W3:()=>b,l5:()=>i,PA:()=>h,WT:()=>x,bv:()=>y});var n={};r.r(n),r.d(n,{all:()=>C,is:()=>P,one:()=>T});var o={};r.r(o),r.d(o,{contains:()=>j,eq:()=>N,is:()=>L,isEqualNode:()=>X,member:()=>F});var s={};r.r(s),r.d(s,{isComment:()=>U,isDocument:()=>Z,isDocumentFragment:()=>_,isElement:()=>$,isHTMLElement:()=>M,isTag:()=>z,isText:()=>q,name:()=>W,type:()=>R,value:()=>V});var i={};r.r(i),r.d(i,{child:()=>me,childNodesCount:()=>he,children:()=>de,defaultView:()=>Q,documentElement:()=>J,documentOrOwner:()=>G,findIndex:()=>ne,firstChild:()=>fe,hasChildNodes:()=>ge,lastChild:()=>pe,leaf:()=>ye,nextSibling:()=>ce,nextSiblings:()=>ue,offsetParent:()=>ie,owner:()=>Y,parent:()=>ee,parentElement:()=>re,parentNode:()=>te,parents:()=>oe,prevSibling:()=>ae,prevSiblings:()=>le,siblings:()=>se});var a={};r.r(a),r.d(a,{createElement:()=>Se,getContentContainer:()=>Ae,getOriginalEventTarget:()=>De,getRootNode:()=>xe,getShadowHost:()=>Pe,getShadowRoot:()=>ke,getStyleContainer:()=>Ee,isClosedShadowRoot:()=>Te,isInShadowRoot:()=>He,isOpenShadowHost:()=>Ne,isOpenShadowRoot:()=>Ce,isShadowRoot:()=>we,isSupported:()=>Oe});var c={};r.r(c),r.d(c,{bind:()=>Ie,capture:()=>We,fromRawEvent:()=>Re});var l={};r.r(l),r.d(l,{active:()=>Me,blur:()=>Be,focus:()=>Ve,focusInside:()=>$e,hasFocus:()=>Ue,search:()=>qe});var u={};r.r(u),r.d(u,{follow:()=>ze,path:()=>_e});var d={};r.r(d),r.d(d,{after:()=>Ge,append:()=>Qe,appendAt:()=>et,before:()=>Ye,prepend:()=>Je,wrap:()=>tt});var m={};r.r(m),r.d(m,{clone:()=>dt,get:()=>it,getOpt:()=>at,has:()=>ct,hasNone:()=>ut,remove:()=>lt,set:()=>nt,setAll:()=>ot,setOptions:()=>st,transfer:()=>mt});var f={};r.r(f),r.d(f,{Ie:()=>ft,TF:()=>pt});var p={};r.r(p),r.d(p,{get:()=>ht,getOuter:()=>vt,set:()=>gt});var h={};r.r(h),r.d(h,{getHtml:()=>yt});var g={};r.r(g),r.d(g,{body:()=>St,getBody:()=>Et,inBody:()=>xt});var v={};r.r(v),r.d(v,{copy:()=>Kt,get:()=>Ct,getAllRaw:()=>Xt,getRaw:()=>Nt,isValidValue:()=>Ft,preserve:()=>Lt,reflow:()=>It,remove:()=>jt,set:()=>kt,setAll:()=>Pt,setOptions:()=>Dt,transfer:()=>Wt});var y={};r.r(y),r.d(y,{zN:()=>Vt});var w={};r.r(w),r.d(w,{absolute:()=>$t,relative:()=>qt,viewport:()=>Zt});var b={};r.r(b),r.d(b,{get:()=>Yt,getOption:()=>Gt,set:()=>Jt});var O={};r.r(O),r.d(O,{add:()=>lr,get:()=>pr,hasAll:()=>mr,hasAny:()=>fr,remove:()=>ur,toggle:()=>dr});var x={};r.r(x),r.d(x,{get:()=>hr,set:()=>gr});var S={};r.r(S),r.d(S,{all:()=>vr,ancestors:()=>yr,children:()=>br,descendants:()=>Or,siblings:()=>wr});var E=r(7153);const A=e=>{if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}},H={fromHtml:(e,t)=>{const r=(t||document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1){const t="HTML does not have a single root node";throw console.error(t,e),new Error(t)}return A(r.childNodes[0])},fromTag:(e,t)=>{const r=(t||document).createElement(e);return A(r)},fromText:(e,t)=>{const r=(t||document).createTextNode(e);return A(r)},fromDom:A,fromPoint:(e,t,r)=>E.Xx.from(e.dom.elementFromPoint(t,r)).map(A)},k=E.O_.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),P=(k.ltr,k.rtl,(e,t)=>{const r=e.dom;if(1!==r.nodeType)return!1;{const e=r;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}}),D=e=>1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount,C=(e,t)=>{const r=void 0===t?document:t.dom;return D(r)?[]:E.s5.map(r.querySelectorAll(e),H.fromDom)},T=(e,t)=>{const r=void 0===t?document:t.dom;return D(r)?E.Xx.none():E.Xx.from(r.querySelector(e)).map(H.fromDom)},N=(e,t)=>e.dom===t.dom,X=(e,t)=>e.dom.isEqualNode(t.dom),F=(e,t)=>E.s5.exists(t,E.Od.curry(N,e)),j=(e,t)=>{const r=e.dom,n=t.dom;return r!==n&&r.contains(n)},L=P,K=(e,t)=>{const r=[],n=e=>(r.push(e),t(e));let o=t(e);do{o=o.bind(n)}while(o.isSome());return r};var I=r(6681);const W=e=>e.dom.nodeName.toLowerCase(),R=e=>e.dom.nodeType,V=e=>e.dom.nodeValue,B=e=>t=>R(t)===e,U=e=>8===R(e)||"#comment"===W(e),M=e=>$(e)&&I.mX.isPrototypeOf(e.dom),$=B(1),q=B(3),Z=B(9),_=B(11),z=e=>t=>$(t)&&W(t)===e,Y=e=>H.fromDom(e.dom.ownerDocument),G=e=>Z(e)?e:Y(e),J=e=>H.fromDom(G(e).dom.documentElement),Q=e=>H.fromDom(G(e).dom.defaultView),ee=e=>E.Xx.from(e.dom.parentNode).map(H.fromDom),te=e=>ee(e),re=e=>E.Xx.from(e.dom.parentElement).map(H.fromDom),ne=e=>ee(e).bind((t=>{const r=de(t);return E.s5.findIndex(r,(t=>N(e,t)))})),oe=(e,t)=>{const r=E.ZU.isFunction(t)?t:E.Od.never;let n=e.dom;const o=[];for(;null!==n.parentNode&&void 0!==n.parentNode;){const e=n.parentNode,t=H.fromDom(e);if(o.push(t),!0===r(t))break;n=e}return o},se=e=>ee(e).map(de).map((t=>E.s5.filter(t,(t=>!N(e,t))))).getOr([]),ie=e=>E.Xx.from(e.dom.offsetParent).map(H.fromDom),ae=e=>E.Xx.from(e.dom.previousSibling).map(H.fromDom),ce=e=>E.Xx.from(e.dom.nextSibling).map(H.fromDom),le=e=>E.s5.reverse(K(e,ae)),ue=e=>K(e,ce),de=e=>E.s5.map(e.dom.childNodes,H.fromDom),me=(e,t)=>{const r=e.dom.childNodes;return E.Xx.from(r[t]).map(H.fromDom)},fe=e=>me(e,0),pe=e=>me(e,e.dom.childNodes.length-1),he=e=>e.dom.childNodes.length,ge=e=>e.dom.hasChildNodes(),ve=(e,t)=>({element:e,offset:t}),ye=(e,t)=>{const r=de(e);return r.length>0&&t<r.length?ve(r[t],0):ve(e,t)},we=e=>_(e)&&E.ZU.isNonNullable(e.dom.host),be=E.ZU.isFunction(Element.prototype.attachShadow)&&E.ZU.isFunction(Node.prototype.getRootNode),Oe=E.Od.constant(be),xe=be?e=>H.fromDom(e.dom.getRootNode()):G,Se=(e,t)=>H.fromTag(t,G(e).dom),Ee=e=>we(e)?e:(e=>{const t=e.dom.head;if(null==t)throw new Error("Head is not available yet");return H.fromDom(t)})(G(e)),Ae=e=>we(e)?e:H.fromDom(G(e).dom.body),He=e=>ke(e).isSome(),ke=e=>{const t=xe(e);return we(t)?E.Xx.some(t):E.Xx.none()},Pe=e=>H.fromDom(e.dom.host),De=e=>{if(Oe()&&E.ZU.isNonNullable(e.target)){const t=H.fromDom(e.target);if($(t)&&Ne(t)&&e.composed&&e.composedPath){const t=e.composedPath();if(t)return E.s5.head(t)}}return E.Xx.from(e.target)},Ce=e=>"open"===e.dom.mode,Te=e=>"closed"===e.dom.mode,Ne=e=>E.ZU.isNonNullable(e.dom.shadowRoot),Xe=e=>{const t=H.fromDom(De(e).getOr(e.target)),r=()=>e.stopPropagation(),n=()=>e.preventDefault(),o=E.Od.compose(n,r);return((e,t,r,n,o,s,i)=>({target:e,x:t,y:r,stop:n,prevent:o,kill:s,raw:i}))(t,e.clientX,e.clientY,r,n,o,e)},Fe=(e,t,r,n,o)=>{const s=((e,t)=>r=>{e(r)&&t(Xe(r))})(r,n);return e.dom.addEventListener(t,s,o),{unbind:E.Od.curry(Le,e,t,s,o)}},je=(e,t,r,n)=>Fe(e,t,r,n,!1),Le=(e,t,r,n)=>{e.dom.removeEventListener(t,r,n)},Ke=E.Od.always,Ie=(e,t,r)=>je(e,t,Ke,r),We=(e,t,r)=>((e,t,r,n)=>Fe(e,t,r,n,!0))(e,t,Ke,r),Re=Xe,Ve=(e,t=!1)=>e.dom.focus({preventScroll:t}),Be=e=>e.dom.blur(),Ue=e=>{const t=xe(e).dom;return e.dom===t.activeElement},Me=(e=(()=>H.fromDom(document))())=>E.Xx.from(e.dom.activeElement).map(H.fromDom),$e=e=>{qe(e).isSome()||Ve(e)},qe=e=>Me(xe(e)).filter((t=>e.dom.contains(t.dom))),Ze=(e,t)=>t(e)?E.Xx.some([]):ee(e).bind((r=>ne(e).bind((e=>Ze(r,t).map((t=>t.concat([e]))))))),_e=(e,t)=>{const r=E.Od.curry(N,e);return N(e,t)?E.Xx.some([]):Ze(t,r)},ze=(e,t)=>0===t.length?E.Xx.some(e):me(e,t[0]).bind((e=>ze(e,t.slice(1)))),Ye=(e,t)=>{ee(e).each((r=>{r.dom.insertBefore(t.dom,e.dom)}))},Ge=(e,t)=>{ce(e).fold((()=>{ee(e).each((e=>{Qe(e,t)}))}),(e=>{Ye(e,t)}))},Je=(e,t)=>{fe(e).fold((()=>{Qe(e,t)}),(r=>{e.dom.insertBefore(t.dom,r.dom)}))},Qe=(e,t)=>{e.dom.appendChild(t.dom)},et=(e,t,r)=>{me(e,r).fold((()=>{Qe(e,t)}),(e=>{Ye(e,t)}))},tt=(e,t)=>{Ye(e,t),Qe(t,e)},rt=(e,t,r)=>{if(!(E.ZU.isString(r)||E.ZU.isBoolean(r)||E.ZU.isNumber(r)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,r+"")},nt=(e,t,r)=>{rt(e.dom,t,r)},ot=(e,t)=>{const r=e.dom;E.OH.each(t,((e,t)=>{rt(r,t,e)}))},st=(e,t)=>{E.OH.each(t,((t,r)=>{t.fold((()=>{lt(e,r)}),(t=>{rt(e.dom,r,t)}))}))},it=(e,t)=>{const r=e.dom.getAttribute(t);return null===r?void 0:r},at=(e,t)=>E.Xx.from(it(e,t)),ct=(e,t)=>{const r=e.dom;return!(!r||!r.hasAttribute)&&r.hasAttribute(t)},lt=(e,t)=>{e.dom.removeAttribute(t)},ut=e=>{const t=e.dom.attributes;return null==t||0===t.length},dt=e=>E.s5.foldl(e.dom.attributes,((e,t)=>(e[t.name]=t.value,e)),{}),mt=(e,t,r)=>{$(e)&&$(t)&&E.s5.each(r,(r=>{((e,t,r)=>{ct(t,r)||at(e,r).each((e=>nt(t,r,e)))})(e,t,r)}))},ft=e=>{e.dom.textContent="",E.s5.each(de(e),(e=>{pt(e)}))},pt=e=>{const t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},ht=e=>e.dom.innerHTML,gt=(e,t)=>{const r=Y(e).dom,n=H.fromDom(r.createDocumentFragment()),o=((e,t)=>{const r=(t||document).createElement("div");return r.innerHTML=e,de(H.fromDom(r))})(t,r);var s,i;s=n,i=o,E.s5.each(i,(e=>{Qe(s,e)})),ft(e),Qe(e,n)},vt=e=>{const t=H.fromTag("div"),r=H.fromDom(e.dom.cloneNode(!0));return Qe(t,r),ht(t)},yt=e=>{if(we(e))return"#shadow-root";{const n=(t=e,r=!1,H.fromDom(t.dom.cloneNode(r)));return vt(n)}var t,r},wt=e=>0===e.button,bt=(e,t)=>({bind:(r,n)=>je(r,e,t,n)}),Ot=(bt("click",(e=>{const t=void 0===e.isTrusted||!0===e.isTrusted,r=e;return 6!==r.mozInputSource&&0!==r.mozInputSource&&t})),bt("mousedown",wt),bt("mouseover",(e=>void 0===e.buttons||!!(1&e.buttons))),bt("mouseup",wt),e=>void 0!==e.style&&E.ZU.isFunction(e.style.getPropertyValue)),xt=e=>{const t=q(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;const r=t.ownerDocument;return ke(H.fromDom(t)).fold((()=>r.body.contains(t)),E.Od.compose1(xt,Pe))},St=()=>Et(H.fromDom(document)),Et=e=>{const t=e.dom.body;if(null==t)throw new Error("Body is not available yet");return H.fromDom(t)},At=(e,t,r)=>{if(!E.ZU.isString(r))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);Ot(e)&&e.style.setProperty(t,r)},Ht=(e,t)=>{Ot(e)&&e.style.removeProperty(t)},kt=(e,t,r)=>{const n=e.dom;At(n,t,r)},Pt=(e,t)=>{const r=e.dom;E.OH.each(t,((e,t)=>{At(r,t,e)}))},Dt=(e,t)=>{const r=e.dom;E.OH.each(t,((e,t)=>{e.fold((()=>{Ht(r,t)}),(e=>{At(r,t,e)}))}))},Ct=(e,t)=>{const r=e.dom,n=window.getComputedStyle(r).getPropertyValue(t);return""!==n||xt(e)?n:Tt(r,t)},Tt=(e,t)=>Ot(e)?e.style.getPropertyValue(t):"",Nt=(e,t)=>{const r=e.dom,n=Tt(r,t);return E.Xx.from(n).filter((e=>e.length>0))},Xt=e=>{const t={},r=e.dom;if(Ot(r))for(let e=0;e<r.style.length;e++){const n=r.style.item(e);t[n]=r.style[n]}return t},Ft=(e,t,r)=>{const n=H.fromTag(e);return kt(n,t,r),Nt(n,t).isSome()},jt=(e,t)=>{const r=e.dom;Ht(r,t),E.eP.is(at(e,"style").map(E.DH.trim),"")&&lt(e,"style")},Lt=(e,t)=>{const r=it(e,"style"),n=t(e);return void 0===r?lt(e,"style"):nt(e,"style",r),n},Kt=(e,t)=>{const r=e.dom,n=t.dom;Ot(r)&&Ot(n)&&(n.style.cssText=r.style.cssText)},It=e=>e.dom.offsetWidth,Wt=(e,t,r)=>{$(e)&&$(t)&&E.s5.each(r,(r=>{((e,t,r)=>{Nt(e,r).each((e=>{Nt(t,r).isNone()&&kt(t,r,e)}))})(e,t,r)}))},Rt=(e,t)=>{const r=r=>{const n=t(r);if(n<=0||null===n){const t=Ct(r,e);return parseFloat(t)||0}return n},n=(e,t)=>E.s5.foldl(t,((t,r)=>{const n=Ct(e,r),o=void 0===n?0:parseInt(n,10);return isNaN(o)?t:t+o}),0);return{set:(t,r)=>{if(!E.ZU.isNumber(r)&&!r.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+r);const n=t.dom;Ot(n)&&(n.style[e]=r+"px")},get:r,getOuter:r,aggregate:n,max:(e,t,r)=>{const o=n(e,r);return t>o?t-o:0}}},Vt=(Rt("height",(e=>{const t=e.dom;return xt(e)?t.getBoundingClientRect().height:t.offsetHeight})),e=>{return!((t=e.dom).offsetWidth<=0&&t.offsetHeight<=0);var t});Rt("width",(e=>e.dom.offsetWidth)),void 0!==window.MutationObserver&&window.MutationObserver,E.Xx.none();const Bt=(e,t)=>({left:e,top:t,translate:(r,n)=>Bt(e+r,t+n)}),Ut=Bt,Mt=(e,t)=>void 0!==e?e:void 0!==t?t:0,$t=e=>{const t=e.dom.ownerDocument,r=t.body,n=t.defaultView,o=t.documentElement;if(r===e.dom)return Ut(r.offsetLeft,r.offsetTop);const s=Mt(null==n?void 0:n.pageYOffset,o.scrollTop),i=Mt(null==n?void 0:n.pageXOffset,o.scrollLeft),a=Mt(o.clientTop,r.clientTop),c=Mt(o.clientLeft,r.clientLeft);return Zt(e).translate(i-c,s-a)},qt=e=>{const t=e.dom;return Ut(t.offsetLeft,t.offsetTop)},Zt=e=>{const t=e.dom,r=t.ownerDocument.body;return r===t?Ut(r.offsetLeft,r.offsetTop):xt(e)?(e=>{const t=e.getBoundingClientRect();return Ut(t.left,t.top)})(t):Ut(0,0)},_t=(e,t)=>{const r=t=>e(t)?E.Xx.from(t.dom.nodeValue):E.Xx.none();return{get:n=>{if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},getOption:r,set:(r,n)=>{if(!e(r))throw new Error("Can only set raw "+t+" value of a "+t+" node");r.dom.nodeValue=n}}},zt=(_t(U,"comment"),_t(q,"text")),Yt=e=>zt.get(e),Gt=e=>zt.getOption(e),Jt=(e,t)=>zt.set(e,t),Qt=(e,t)=>r=>"rtl"===er(r)?t:e,er=e=>"rtl"===Ct(e,"direction")?"rtl":"ltr",tr=e=>t=>e,rr=(Qt("left","right"),Qt("right","left"),tr("justify"),tr("center"),tr("match-parent"),(e,t)=>{const r=it(e,t);return void 0===r||""===r?[]:r.split(" ")}),nr=e=>void 0!==e.dom.classList,or=e=>rr(e,"class"),sr=(e,t)=>((e,t,r)=>{const n=rr(e,t).concat([r]);return nt(e,t,n.join(" ")),!0})(e,"class",t),ir=(e,t)=>((e,t,r)=>{const n=E.s5.filter(rr(e,t),(e=>e!==r));return n.length>0?nt(e,t,n.join(" ")):lt(e,t),!1})(e,"class",t),ar=e=>{0===(nr(e)?e.dom.classList:or(e)).length&&lt(e,"class")},cr=(e,t)=>nr(e)&&e.dom.classList.contains(t),lr=(e,t)=>{E.s5.each(t,(t=>{((e,t)=>{nr(e)?e.dom.classList.add(t):sr(e,t)})(e,t)}))},ur=(e,t)=>{E.s5.each(t,(t=>{((e,t)=>{nr(e)?e.dom.classList.remove(t):ir(e,t),ar(e)})(e,t)}))},dr=(e,t)=>{E.s5.each(t,(t=>{((e,t)=>{const r=nr(e)?e.dom.classList.toggle(t):((e,t)=>E.s5.contains(or(e),t)?ir(e,t):sr(e,t))(e,t);ar(e)})(e,t)}))},mr=(e,t)=>E.s5.forall(t,(t=>cr(e,t))),fr=(e,t)=>E.s5.exists(t,(t=>cr(e,t))),pr=e=>nr(e)?(e=>{const t=e.dom.classList,r=new Array(t.length);for(let e=0;e<t.length;e++){const n=t.item(e);null!==n&&(r[e]=n)}return r})(e):or(e),hr=e=>e.dom.value,gr=(e,t)=>{if(void 0===t)throw new Error("Value.set was undefined");e.dom.value=t},vr=e=>C(e),yr=(e,t,r)=>((e,r,n)=>E.s5.filter(oe(e,n),(e=>P(e,t))))(e,0,r),wr=(e,t)=>(e=>E.s5.filter(se(e),(e=>P(e,t))))(e),br=(e,t)=>(e=>E.s5.filter(de(e),(e=>P(e,t))))(e),Or=(e,t)=>C(t,e),xr={create:(e,t,r,n)=>({start:e,soffset:t,finish:r,foffset:n})},Sr=E.O_.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Er=(Sr.before,Sr.on,Sr.after,E.O_.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}])),Ar=(Er.domRange,Er.relative,Er.exact,xr.create,document.caretPositionFromPoint||document.caretRangeFromPoint||E.Xx.none,(()=>{const e="[0-9]+",t="[eE][+-]?"+e,r=e=>`(?:${e})?`,n=["Infinity",e+"\\."+r(e)+r(t),"\\."+e+r(t),e+r(t)].join("|");new RegExp(`^([+-]?(?:${n}))(.*)$`)})(),I.nV.detect());Ar.deviceType.isTouch,Ar.deviceType.isAndroid},3191:(e,t,r)=>{r.d(t,{Br:()=>n,HH:()=>o.HH});var n={};r.r(n),r.d(n,{eq:()=>I,fail:()=>B,succeeds:()=>V,throws:()=>W,throwsError:()=>R});var o=r(398),s=o.mL,i=(s.before,s.beforeEach,s.after,s.afterEach,s.describe,s.xdescribe,s.context,s.xcontext,s.it,s.xit,s.specify,s.xspecify,r(6911)),a=r(18),c=function(e){return'"'+e.replace(/"/g,'\\"')+'"'},l=function(e){return{show:e}},u=function(e){return l((function(){return e}))},d=l((function(e){return String(e)})),m=l((function(e){return JSON.stringify(e)})),f=u("undefined"),p=u("null"),h=d,g=d,v=l((function(e){return c(e)})),y=u("function() {...}"),w=r(9344),b=r(2289),O=function(e,t,r){return{start:e,children:t,end:r}},x=function(e){return t=function(t){return t+e},function(e){return(r=t(e.end),function(e){return(0,i.Cl)((0,i.Cl)({},e),{end:r})})(e);var r};var t},S=function(e,t){var r=function(e){for(var t="",r=0;r<e;r++)t+="  ";return t}(e);if(0===t.children.length)return r+t.start+t.end;var n=w.Tj(t.children,(function(t){return S(e+1,t)}));return r+t.start+"\n"+n.join("\n")+"\n"+r+t.end},E=function(e){return{pprint:e}},A=function(e,t){return r=t.pprint(e),S(0,r);var r},H=function(e){return E((function(t){return r=e.show(t),O(r,[],"");var r}))},k=H(f),P=H(p),D=H(v),C=H(h),T=H(g),N=H(y),X=H(d),F=(H(m),function(e){return E((function(t){var r=function(e){for(var t=[],r=Object.keys(e),n=r.length,o=0;o<n;o++){var s=r[o],i=e[s];t.push([s,i])}return t}(t),n=w.Xb(r,(function(t){var r,n,o=t[0],s=t[1],a=e.pprint(s),l=c(o)+": ";return(r=l,n=function(e){return r+e},function(e){return(t=n(e.start),function(e){return(0,i.Cl)((0,i.Cl)({},e),{start:t})})(e);var t})(a)}),x(","));return O("{",n,"}")}))}),j=E((function(e){return b.b0(e)?k.pprint(e):b.kZ(e)?P.pprint(e):b.Et(e)?T.pprint(e):b.Lm(e)?C.pprint(e):b.Tn(e)?N.pprint(e):b.Kg(e)?D.pprint(e):b.cy(e)?(t=j,E((function(e){var r=w.Xb(e,t.pprint,x(","));return O("[",r,"]")}))).pprint(e):b.Gv(e)?F(j).pprint(e):X.pprint(e);var t})),L=function(e,t){return(0,i.Cl)((0,i.Cl)({},e),t)},K=(L(a.ZS,k),L(a.G7,P),L(a.kK,D),L(a.US,T),L(a.fo,j)),I=(L(a.B9,j),function(e,t,r,n){if(void 0===n&&(n=K),!n.eq(t,r)){var s=o.HH.asString(e),i=A(t,n),a=A(r,n);throw o.xA.pprintAssertionError(s,i,a)}}),W=function(e,t,r){var n={};try{throw t(),n}catch(t){if(t===n)throw new Error("Expected function to throw, but it didn't.\n"+o.HH.asString(e));void 0!==r&&I(e,r,t)}},R=function(e,t,r){var n={};try{throw t(),n}catch(t){if(t===n)throw new Error("Expected function to throw, but it didn't.\n"+o.HH.asString(e));void 0!==r&&I(e,r,t.message)}},V=function(e,t){try{t()}catch(t){throw new Error("Expected function to not throw, but it did.\n"+o.HH.asString(e))}},B=function(e){throw new Error("Test failed\n"+o.HH.asString(e))}},6681:(e,t,r)=>{r.d(t,{nV:()=>n,mX:()=>o});var n={};r.r(n),r.d(n,{detect:()=>j,override:()=>L});var o={};r.r(o),r.d(o,{isPrototypeOf:()=>I});var s=r(7153);const i=()=>a(0,0),a=(e,t)=>({major:e,minor:t}),c={nu:a,detect:(e,t)=>{const r=String(t).toLowerCase();return 0===e.length?i():((e,t)=>{const r=((e,t)=>{for(let r=0;r<e.length;r++){const n=e[r];if(n.test(t))return n}})(e,t);if(!r)return{major:0,minor:0};const n=e=>Number(t.replace(r,"$"+e));return a(n(1),n(2))})(e,r)},unknown:i},l=(e,t)=>{const r=String(t).toLowerCase();return s.s5.find(e,(e=>e.search(r)))},u=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,d=e=>t=>s.DH.contains(t,e),m=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>s.DH.contains(e,"edge/")&&s.DH.contains(e,"chrome")&&s.DH.contains(e,"safari")&&s.DH.contains(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,u],search:e=>s.DH.contains(e,"chrome")&&!s.DH.contains(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>s.DH.contains(e,"msie")||s.DH.contains(e,"trident")},{name:"Opera",versionRegexes:[u,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:d("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:d("firefox")},{name:"Safari",versionRegexes:[u,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(s.DH.contains(e,"safari")||s.DH.contains(e,"mobile/"))&&s.DH.contains(e,"applewebkit")}],f=[{name:"Windows",search:d("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>s.DH.contains(e,"iphone")||s.DH.contains(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:d("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:d("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:d("linux"),versionRegexes:[]},{name:"Solaris",search:d("sunos"),versionRegexes:[]},{name:"FreeBSD",search:d("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:d("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],p={browsers:s.Od.constant(m),oses:s.Od.constant(f)},h="Edge",g="Chromium",v="Opera",y="Firefox",w="Safari",b=e=>{const t=e.current,r=e.version,n=e=>()=>t===e;return{current:t,version:r,isEdge:n(h),isChromium:n(g),isIE:n("IE"),isOpera:n(v),isFirefox:n(y),isSafari:n(w)}},O=()=>b({current:void 0,version:c.unknown()}),x=b,S=(s.Od.constant(h),s.Od.constant(g),s.Od.constant("IE"),s.Od.constant(v),s.Od.constant(y),s.Od.constant(w),"Windows"),E="Android",A="Linux",H="macOS",k="Solaris",P="FreeBSD",D="ChromeOS",C=e=>{const t=e.current,r=e.version,n=e=>()=>t===e;return{current:t,version:r,isWindows:n(S),isiOS:n("iOS"),isAndroid:n(E),isMacOS:n(H),isLinux:n(A),isSolaris:n(k),isFreeBSD:n(P),isChromeOS:n(D)}},T=()=>C({current:void 0,version:c.unknown()}),N=C,X=(s.Od.constant(S),s.Od.constant("iOS"),s.Od.constant(E),s.Od.constant(A),s.Od.constant(H),s.Od.constant(k),s.Od.constant(P),s.Od.constant(D),e=>window.matchMedia(e).matches);let F=s.Jt.cached((()=>((e,t,r)=>{const n=p.browsers(),o=p.oses(),i=t.bind((e=>((e,t)=>s.s5.findMap(t.brands,(t=>{const r=t.brand.toLowerCase();return s.s5.find(e,(e=>{var t;return r===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())})).map((e=>({current:e.name,version:c.nu(parseInt(t.version,10),0)})))})))(n,e))).orThunk((()=>((e,t)=>l(e,t).map((e=>{const r=c.detect(e.versionRegexes,t);return{current:e.name,version:r}})))(n,e))).fold(O,x),a=((e,t)=>l(e,t).map((e=>{const r=c.detect(e.versionRegexes,t);return{current:e.name,version:r}})))(o,e).fold(T,N),u=((e,t,r,n)=>{const o=e.isiOS()&&!0===/ipad/i.test(r),i=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),c=a||n("(pointer:coarse)"),l=o||!i&&a&&n("(min-device-width:768px)"),u=i||a&&!l,d=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(r),m=!u&&!l&&!d;return{isiPad:s.Od.constant(o),isiPhone:s.Od.constant(i),isTablet:s.Od.constant(l),isPhone:s.Od.constant(u),isTouch:s.Od.constant(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:s.Od.constant(d),isDesktop:s.Od.constant(m)}})(a,i,e,r);return{browser:i,os:a,deviceType:u}})(navigator.userAgent,s.Xx.from(navigator.userAgentData),X)));const j=()=>F(),L=e=>{F=s.Od.constant({...j(),...e})},K=Object.getPrototypeOf,I=e=>{const t=s.XK.resolve("ownerDocument.defaultView",e);return s.ZU.isObject(e)&&((e=>((e,t)=>{const r=((e,t)=>s.XK.resolve(e,t))(e,t);if(null==r)throw new Error(e+" not available on this browser");return r})("HTMLElement",e))(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(K(e).constructor.name))}},6734:(e,t,r)=>{r.d(t,{mW:()=>s,sW:()=>De,KS:()=>i,yb:()=>c,QO:()=>a,wM:()=>n,s3:()=>l,KK:()=>u,p$:()=>pr,pn:()=>me,lt:()=>o});var n={};r.r(n),r.d(n,{addLogging:()=>ge,timeout:()=>he,tryUntil:()=>pe,tryUntilNot:()=>fe});var o={};r.r(o),r.d(o,{cExists:()=>Qe,cFindAllIn:()=>rt,cFindIn:()=>tt,cNotExists:()=>et,cWaitFor:()=>Ue,cWaitForHidden:()=>qe,cWaitForState:()=>Ye,cWaitForVisible:()=>$e,exists:()=>Ve,findAllIn:()=>Re,findIn:()=>We,notExists:()=>Be,pWaitFor:()=>nt,pWaitForHidden:()=>st,pWaitForState:()=>it,pWaitForVisible:()=>ot,sExists:()=>Ge,sNotExists:()=>Je,sWaitFor:()=>Me,sWaitForHidden:()=>_e,sWaitForVisible:()=>Ze});var s={};r.r(s),r.d(s,{assertDomEq:()=>pt,assertEq:()=>ft,assertHtml:()=>lt,assertHtmlStructure:()=>dt,assertPresence:()=>mt,assertStructure:()=>ut,cAssertDomEq:()=>bt,cAssertEq:()=>wt,cAssertHtml:()=>Ot,cAssertHtmlStructure:()=>St,cAssertPresence:()=>xt,cAssertStructure:()=>Et,sAssertEq:()=>ht,sAssertHtml:()=>gt,sAssertPresence:()=>vt,sAssertStructure:()=>yt});var i={};r.r(i),r.d(i,{cFollow:()=>Jt,cFollowCursor:()=>Gt,cFollowPath:()=>Yt,cToPath:()=>er,cToRange:()=>Qt,calculate:()=>tr,calculateOne:()=>rr,follow:()=>_t,followPath:()=>zt,path:()=>qt,pathFrom:()=>Zt,range:()=>$t});var a={};r.r(a),r.d(a,{repeat:()=>gr,repeatUntil:()=>yr,sequence:()=>hr,sequenceRepeat:()=>vr,waitForPredicate:()=>wr});var c={};r.r(c),r.d(c,{Hu:()=>xr});var l={};r.r(l),r.d(l,{activeKeydown:()=>Lr,activeKeypress:()=>Ir,activeKeystroke:()=>Wr,activeKeyup:()=>Kr,keydown:()=>Nr,keypress:()=>Fr,keystroke:()=>jr,keyup:()=>Xr,sKeydown:()=>Rr,sKeypress:()=>Br,sKeystroke:()=>Ur,sKeyup:()=>Vr});var u={};r.r(u),r.d(u,{Qk:()=>nn,GP:()=>on});var d=r(7153),m=r(2480),f=r(3191);const p=d.Id.generate("missing"),h=e=>d.Od.die(e),g=(e,t,r)=>{const n=r===p?"{missing}":r;f.Br.eq(f.HH.concat(t,(()=>", Actual value: "+JSON.stringify(n))),!0,e)},v=e=>({show:d.Od.constant('is("'+e+'")'),strAssert:(t,r)=>{const n=(t=>e===t)(r);g(n,f.HH.concat(t,"\nExpected value: "+JSON.stringify(e)),r)},arrAssert:h('"is" is not an array assertion. Perhaps you wanted "has"?')}),y=e=>{const t=t=>t===e;return{show:d.Od.constant('has("'+e+'")'),strAssert:h('"has" is not a string assertion. Perhaps you wanted "is"?'),arrAssert:(r,n)=>{const o=d.s5.exists(n,t);g(o,f.HH.concat(r,"Expected array to contain: "+e),n)}}},w=d.Od.constant(p),b=(e,t)=>{let r=-1;const n=()=>r>=0&&r<e.length?d.Xx.some(e[r]):d.Xx.none();return{context:()=>{const n=r>=0&&r<e.length?"\n"+m.PA.getHtml(e[r]):" *missing*",o="\nItem["+r+"]:"+n;return t.fold((()=>{const t=d.s5.map(e,m.Ed.getOuter).join("");return o+"\nComplete Structure:\n"+t}),(e=>{const t="\nContainer:\n"+m.PA.getHtml(e),r=m.Ed.getOuter(e);return t+o+"\nComplete Structure:\n"+r}))},current:n,peek:()=>r+1<e.length?d.Xx.some(e[r+1]):d.Xx.none(),take:()=>(r+=1,n()),mark:()=>{const e=r;return{reset:()=>{r=e},atMark:()=>r===e}}}},O=(e,t)=>{"advanced"===e.type?e.doAssert(t):t.take().fold((()=>{f.Br.fail("Expected more children to satisfy assertion for "+t.context())}),(t=>{e.doAssert(t)}))},x=(e,t=e)=>r=>({type:"advanced",doAssert:n=>{let o=0;for(;o<e;o++)O(r,n);for(;(!0===t||o<t)&&n.peek().isSome();o++){const e=n.mark();try{O(r,n)}catch(t){e.reset()}if(e.atMark())break}}}),S=(x(0,1),x(0,!0)),E=(x(1,!0),{doAssert:d.Od.noop}),A=(e,t)=>{d.OH.each(e,((e,r)=>{if(void 0===e.strAssert)throw new Error(JSON.stringify(e)+" is not a *string assertion*.\nSpecified in *expected* attributes of "+m.PA.getHtml(t));const n=m.nW.getOpt(t,r).getOrThunk(w);e.strAssert((()=>'Checking attribute: "'+r+'" of '+m.PA.getHtml(t)+"\n"),n)}))},H=(e,t)=>{const r=d.OH.keys(e),n=d.s5.filter(d.OH.keys(m.nW.clone(t)),(e=>"class"!==e&&"style"!==e));if(!F(r,n))throw new Error(`Attribute names were not matching. actual: [${n.join(", ")}], expected: [${r.join(", ")}]`);A(e,t)},k=(e,t)=>{const r=m.xn.get(t);d.s5.each(e,(e=>{if(void 0===e.arrAssert)throw new Error(JSON.stringify(e)+" is not an *array assertion*.\nSpecified in *expected* classes of "+m.PA.getHtml(t));e.arrAssert((()=>"Checking classes in "+m.PA.getHtml(t)+"\n"),r)}))},P=(e,t)=>{const r=m.xn.get(t);if(!F(r,e))throw new Error(`Class names were not matching. actual:  [${r.join(", ")}], expected: [${e.join(", ")}]`)},D=(e,t)=>{d.OH.each(e,((e,r)=>{const n=m.c1.getRaw(t,r).getOrThunk(w);if(void 0===e.strAssert)throw new Error(JSON.stringify(e)+" is not a *string assertion*.\nSpecified in *expected* styles of "+m.PA.getHtml(t));e.strAssert((()=>'Checking style: "'+r+'" of '+m.PA.getHtml(t)+"\n"),n)}))},C=(e,t)=>{const r=d.OH.keys(e),n=d.OH.keys(m.c1.getAllRaw(t));if(!F(r,n))throw new Error(`Style names were not matching. actual: [${n.join(", ")}], expected: [${r.join(", ")}]`);D(e,t)},T=(e,t)=>{e.each((e=>{const r=m.Ed.get(t);if(void 0===e.strAssert)throw new Error(JSON.stringify(e)+" is not a *string assertion*.\nSpecified in *expected* innerHTML of "+m.PA.getHtml(t));e.strAssert((()=>"Checking HTML of "+m.PA.getHtml(t)),r)}))},N=(e,t)=>{e.each((e=>{if(void 0===e.strAssert)throw new Error(JSON.stringify(e)+" is not a *string assertion*.\nSpecified in *expected* value of "+m.PA.getHtml(t));e.strAssert((()=>"Checking value of "+m.PA.getHtml(t)),m.WT.get(t))}))},X=(e,t)=>{e.each((e=>{const r=b(m.l5.children(t),d.Xx.some(t));d.s5.each(e,((e,n)=>{if(void 0===e.doAssert)throw new Error(JSON.stringify(e)+" is not a *structure assertion*.\nSpecified in *expected* children of "+m.PA.getHtml(t));"advanced"===e.type?e.doAssert(r):r.take().fold((()=>{f.Br.fail("Expected more children to satisfy assertion "+n+" for "+r.context())}),(t=>{e.doAssert(t)}))})),r.peek().isSome()&&f.Br.fail("More children than expected for "+r.context())}))},F=(d.Od.constant(E),d.Od.constant(S(E)),(e,t)=>d.s5.equal(d.s5.sort(e),d.s5.sort(t))),j=(e,t)=>d.OH.bifilter(m.nW.clone(e),((e,r)=>!d.s5.contains(t,r))).t,L=e=>d.OH.map(e,v),K=e=>{return m.HP.isElement(e)?(t=m.HP.name(e),r={children:d.s5.map(m.l5.children(e),K),attrs:L(j(e,["style","class"])),styles:L(m.c1.getAllRaw(e)),classes:(n=m.xn.get(e),d.s5.map(n,y))},{doAssert:e=>{var n,o,s;if(m.HP.isHTMLElement(e)){f.Br.eq((()=>"Incorrect node name for: "+m.PA.getHtml(e)),t,m.HP.name(e));const i=null!==(n=r.attrs)&&void 0!==n?n:{},a=null!==(o=r.classes)&&void 0!==o?o:[],c=null!==(s=r.styles)&&void 0!==s?s:{},l=d.Xx.from(r.html),u=d.Xx.from(r.value),p=d.Xx.from(r.children),h=d.Xx.from(r.exactClasses),g=d.Xx.from(r.exactAttrs),v=d.Xx.from(r.exactStyles);h.fold((()=>k(a,e)),(t=>P(t,e))),g.fold((()=>A(i,e)),(t=>H(t,e))),v.fold((()=>D(c,e)),(t=>C(t,e))),T(l,e),N(u,e),X(p,e)}else f.Br.eq("Incorrect node type for: "+m.PA.getHtml(e),1,m.HP.type(e))}}):((e,t=!1)=>({type:"advanced",doAssert:r=>{r.take().fold((()=>{f.Br.fail("No more nodes, so cannot check if its text is: "+e.show()+" for "+r.context())}),(n=>{m.W3.getOption(n).fold((()=>{f.Br.fail("Node is not a text node, so cannot check if its text is: "+e.show()+" for "+r.context())}),(n=>{let o=n;if(t)for(;r.peek().exists(m.HP.isText);)o+=r.take().bind(m.W3.getOption).getOr("");if(void 0===e.strAssert)throw new Error(JSON.stringify(e)+" is not a *string assertion*");e.strAssert("Checking text content",o)}))}))}}))(v(m.HP.value(e)),!0);var t,r,n},I=e=>K(m.VX.fromHtml(e));var W=r(4268);const R=(W.Yj().map((e=>{const t=document.createComment(e);return m.VX.fromDom(t)})),e=>e.map(m.VX.fromText));W.$p("img").map((e=>(e=>{const t=e.split("-"),r=t.length>0?t[0]:e;return m.VX.fromTag(r)})(e))),R(W.Yj({minLength:1})),R(W.Yj()),R(W.$p(" ","\n")),R(W.dY(d.Mp.Xv)),R(W.$p("​",d.Mp.Xv)),W.dY([]),d.Od.never;const V=W.$p(..."0123456789abcdef".split("")),B=(W.PV(V,V,V,V,V,V).map((e=>["#"].concat(e).join(""))),(()=>{const e=Object.prototype.hasOwnProperty;return(t,r)=>{t=t.replace(/\s+$/,""),r=r.replace(/\s+$/,"");let n,o,s="",i=t.match(/\s+/g),a=r.match(/\s+/g);const c=((t,r)=>{let n;const o={},s={};for(n=0;n<r.length;n++)e.call(o,r[n])||(o[r[n]]={rows:[],o:null}),o[r[n]].rows.push(n);for(n=0;n<t.length;n++)e.call(s,t[n])||(s[t[n]]={rows:[],n:null}),s[t[n]].rows.push(n);for(n in o)e.call(o,n)&&1===o[n].rows.length&&e.call(s,n)&&1===s[n].rows.length&&(r[o[n].rows[0]]={text:r[o[n].rows[0]],row:s[n].rows[0]},t[s[n].rows[0]]={text:t[s[n].rows[0]],row:o[n].rows[0]});for(n=0;n<r.length-1;n++)null!=r[n].text&&null==r[n+1].text&&r[n].row+1<t.length&&null==t[r[n].row+1].text&&r[n+1]===t[r[n].row+1]&&(r[n+1]={text:r[n+1],row:r[n].row+1},t[r[n].row+1]={text:t[r[n].row+1],row:n+1});for(n=r.length-1;n>0;n--)null!=r[n].text&&null==r[n-1].text&&r[n].row>0&&null==t[r[n].row-1].text&&r[n-1]===t[r[n].row-1]&&(r[n-1]={text:r[n-1],row:r[n].row-1},t[r[n].row-1]={text:t[r[n].row-1],row:n-1});return{o:t,n:r}})(""===t?[]:t.split(/\s+/),""===r?[]:r.split(/\s+/));if(null==i?i=[" "]:i.push(" "),null==a?a=[" "]:a.push(" "),0===c.n.length)for(n=0;n<c.o.length;n++)s+="<del>"+c.o[n]+i[n]+"</del>";else{if(null==c.n[0].text)for(let e=0;e<c.o.length&&null==c.o[e].text;e++)s+="<del>"+c.o[e]+i[e]+"</del>";for(n=0;n<c.n.length;n++)if(null==c.n[n].text)s+="<ins>"+c.n[n]+a[n]+"</ins>";else{o="";for(let e=c.n[n].row+1;e<c.o.length&&null==c.o[e].text;e++)o+="<del>"+c.o[e]+i[e]+"</del>";s+=" "+c.n[n].text+a[n]+o}}return s}})());var U=r(398);const M=e=>(t,r)=>{setTimeout((()=>{t()}),e)},$=()=>{},q=d.Od.noop;var Z;!function(e){e[e.Original=0]="Original",e[e.Started=1]="Started",e[e.Finished=2]="Finished"}(Z||(Z={}));const _=(e,t)=>d.s5.last(e).fold((()=>e),(r=>r.state===Z.Started?d.s5.last(r.entries).fold((()=>e.slice(0,e.length-1).concat([t(r)])),(n=>n.state===Z.Started?e.slice(0,e.length-1).concat([{message:r.message,state:r.state,trace:r.trace,entries:_(r.entries,t)}]):e.slice(0,e.length-1).concat([t(r)]))):e.slice(0,e.length-1).concat([t(r)]))),z=(e,t)=>d.s5.last(e).fold((()=>[t({message:"Unknown",state:Z.Original,entries:[],trace:null})]),(r=>r.state===Z.Started?e.slice(0,e.length-1).concat([{message:r.message,state:r.state,entries:z(r.entries,t),trace:r.trace}]):e.slice(0,e.length-1).concat([t(r)]))),Y=(e,t)=>({history:z(e.history,t)}),G=(e,t)=>{if(0===e.length)return[t];{const r=e[e.length-1];if(r.state===Z.Started){const n=e.slice(0,e.length-1),o=G(r.entries,t);return n.concat([{message:r.message,entries:o,state:r.state,trace:r.trace}])}return e.concat([t])}},J=(e,t)=>{const r={message:t,trace:null,state:Z.Original,entries:[]};return{history:G(e.history,r)}},Q=e=>(e=>({history:_(e.history,(e=>({message:e.message,entries:e.entries,state:Z.Finished,trace:e.trace})))}))(e),ee=e=>({history:e}),te=e=>void 0!==e?e:ee([]),re=()=>ee([]),ne=e=>(t,r,n,o)=>{const s=(e,t)=>{Promise.resolve().then((()=>{r(e,t)}))};try{e(t,s,n,o)}catch(e){const t=((e,t)=>Y(e,(e=>({message:e.message,trace:t.stack,state:e.state,entries:e.entries}))))(o,e);n(e,t)}},oe=(e,t)=>{if(d.ZU.isString(t))return f.HH.asString(e)+"\n"+t;if("HtmlAssertion"===t.name)return t.message=e+"\n"+t.message,t;if(d.ZU.isObject(t)&&void 0!==t.message){const r=new Error(t);return r.stack=t.stack,r.message=f.HH.asString(e)+"\n"+r.message,r}return t},se=e=>({runStep:ne(e)}),ie=e=>se(((t,r,n,o)=>{e(t,(e=>r(e,o)),(e=>n(e,o)))})),ae=(e,t)=>se(((r,n,o,s)=>{t(e.runStep,r,n,o,s)})),ce=e=>se(((t,r,n,o)=>{e(),r(t,o)})),le=e=>se(((t,r,n,o)=>{e((()=>r(t,o)),(e=>n(e,o)))})),ue=ce($),de=ce(q),me={stateful:ie,control:ae,sync:ce,async:le,debugging:ue,log:e=>se(((t,r,n,o)=>{console.log(e),r(t,J(o,e))})),label:(e,t)=>ae(t,ge(e)),wait:e=>le(M(e)),fail:e=>le((e=>(t,r)=>{r("Fake failure: "+e)})(e)),pass:de,raw:se,predicate:e=>ie(((t,r,n)=>{e(t)?r(t):n("predicate did not succeed")})),toPromise:e=>t=>new Promise(((r,n)=>{e.runStep(t,((e,t)=>{r(e)}),((e,t)=>{n(U.HR.prepFailure(e,t))}),re())})),fromPromise:e=>me.async(((t,r)=>{e().then(t,r)}))},fe=(e,t=10,r=3e3)=>(n,o,s,i,a)=>{const c=l=>{n(o,((n,o)=>{Date.now()-l>=r?i(new Error("Waited for "+r+"ms for something to be unsuccessful. "+e),J(o,"WaitErr: "+e+" = Failed (after "+r+"ms)")):setTimeout((()=>{c(l)}),t)}),((t,r)=>{Error.prototype.isPrototypeOf(t)?i(t,r):s(o,J(r,"WaitErr: "+e+" = SUCCESS!"))}),a)};c(Date.now())},pe=(e,t=10,r=3e3)=>(n,o,s,i,a)=>{const c=l=>{n(o,((t,r)=>{s(t,J(r,"Wait: "+e+" = SUCCESS!"))}),((n,o)=>{Date.now()-l>=r?i(oe("Waited for "+r+"ms for something to be successful. "+e,n),J(o,"Wait: "+e+" = FAILED (after "+r+"ms)")):setTimeout((()=>{c(l)}),t)}),a)};c(Date.now())},he=(e,t)=>(r,n,o,s,i)=>{let a=!1,c=!1;const l=()=>!1===a&&!1===c,u=setTimeout((()=>{l()&&(c=!0,s("Hit the limit ("+t+") for: "+e,i))}),t);r(n,((e,t)=>{clearTimeout(u),l()&&(a=!0,o(e,t))}),((e,t)=>{l()&&(c=!0,s(e,t))}),i)},ge=e=>(t,r,n,o,s)=>((e,t)=>me.raw(((r,n,o,s)=>{const i=(e=>Y(e,(e=>({message:e.message,entries:e.entries,state:Z.Started,trace:e.trace}))))(J(s,e)),a=(t,r)=>o((t=>oe(e,t))(t),Q(r));try{return t.runStep(r,((e,t)=>n(e,Q(t))),a,i)}catch(e){a(e,i)}})))(e,{runStep:t}).runStep(r,n,o,s),ve=(e,t,r,n,o)=>{(e=>{d.s5.each(e,((t,r)=>{let n;if(void 0===t?n="step "+r+" was undefined. All steps: "+JSON.stringify(e)+"\n":d.ZU.isArray(t)&&(n="step "+r+" was an array"),void 0!==n)throw console.trace(n,e),new Error(n)}))})(t);const s=(e,o,i)=>{if(i<t.length){const r=t[i];if("runChain"in r)return n("You cannot create a pipeline out of chains. Use Chain.asStep to turns chains into steps",o);try{const t=(e,t)=>{s(e,t,i+1)};r.runStep(e,((e,r)=>{t(e,r)}),n,o)}catch(e){n(e,o)}}else r(e,o)},i=te(o);s(e,i,0)},ye=(e,t,r,n,o)=>{t.runStep(e,r,n,te(o))},we=e=>({runChain:ne(((t,r,n,o)=>{e(t,((e,t)=>{r(e,t)}),((e,t)=>n(e,t)),o)}))}),be=(e,t)=>we(((r,n,o,s)=>{t(e.runChain,r,((e,t)=>{n(e,t)}),o,s)})),Oe=e=>we(((t,r,n,o)=>{r(e(t),o)})),xe=Oe(d.Od.identity),Se=e=>we(((t,r,n,o)=>{e(t),r(t,o)})),Ee=e=>we(((t,r,n,o)=>{r(e,o)})),Ae=e=>({runStep:e.runChain}),He=e=>{const t=d.s5.map(e,Ae);return we(((e,r,n,o)=>{ve(e,t,((e,t)=>r(e,t)),n,o)}))},ke=e=>{const t=d.s5.map(e,Ae);return we(((e,r,n,o)=>{ve(e,t,((t,n)=>{r(e,n)}),n,o)}))},Pe=Se($),De={on:we,op:Se,async:e=>we(((t,r,n,o)=>e(t,(e=>r(e,o)),(e=>n(e,o))))),control:be,mapper:Oe,identity:xe,binder:e=>we(((t,r,n,o)=>{e(t).fold((e=>{n(e,o)}),(e=>{r(e,o)}))})),runStepsOnValue:e=>De.on(((t,r,n,o)=>{const s=e(t);ve(t,s,((e,t)=>r(e,t)),n,o)})),inject:Ee,injectThunked:e=>we(((t,r,n,o)=>{r(e(),o)})),fromChains:He,fromChainsWith:(e,t)=>He([Ee(e)].concat(t)),fromIsolatedChains:ke,fromIsolatedChainsWith:(e,t)=>ke([Ee(e)].concat(t)),exists:e=>{const t=d.s5.map(e,Ae);let r=0;const n=(e,o,s,i)=>{let a=s;r+1<t.length&&(a=()=>{r+=1,n(e,o,s,i)}),ye(e,t[r],o,a,i)};return we(n)},fromParent:(e,t)=>we(((r,n,o,s)=>{ve(r,[Ae(e)],((e,s)=>{const i=d.s5.map(t,(t=>me.raw(((r,n,o,s)=>{t.runChain(e,n,o,s)}))));ve(r,i,((t,r)=>{n(e,r)}),o,s)}),o,s)})),asStep:(e,t)=>me.raw(((r,n,o,s)=>{const i=d.s5.map(t,Ae);ve(e,i,((e,t)=>{n(r,t)}),o,s)})),isolate:(e,t)=>me.raw(((r,n,o,s)=>{ye(e,Ae(t),((e,t)=>{n(r,t)}),o,s)})),wait:e=>we(((t,r,n,o)=>{M(e)((()=>r(t,o)),n)})),debugging:Pe,log:e=>we(((t,r,n,o)=>{console.log(e),r(t,J(o,e))})),label:(e,t)=>be(t,ge(e)),toPromise:e=>t=>new Promise(((r,n)=>{e.runChain(t,((e,t)=>{r(e)}),((e,t)=>{n(U.HR.prepFailure(e,t))}),re())})),fromPromise:e=>De.async(((t,r,n)=>{e(t).then(r,n)})),pipeline:(e,t,r,n)=>{ve({},d.s5.map(e,Ae),((e,r)=>{t(e,r)}),r,te(n))},predicate:e=>we(((t,r,n,o)=>e(t)?r(t,o):n("predicate did not succeed",o)))};var Ce=r(2706);const Te=(e,t)=>(e=>0===e.length?d.Xx.none():d.Xx.from(e[0]).map(m.VX.fromDom))(Ce(t,e.dom)),Ne=(e,t)=>{return r=Ce(t,e.dom),d.s5.map(r,m.VX.fromDom);var r},Xe=(e,t)=>m.HP.isElement(e)&&Ce.matchesSelector(e.dom,t),Fe=(e,t)=>{const r=m.l5.children(e);return d.s5.find(r,(e=>Xe(e,t)))},je=(e,t)=>{const r=m.l5.children(e);return d.s5.filter(r,(e=>Xe(e,t)))},Le=d.O_.generate([{self:["element","selector"]},{children:["element","selector"]},{descendants:["element","selector"]}]),Ke=(e,t)=>{if(void 0===t)throw new Error("No selector passed through");return 0===t.indexOf("root:")?Le.self(e,t.substring(5)):0===t.indexOf("root>")?Le.children(e,t.substring(5)):Le.descendants(e,t)},Ie=(e,t)=>Xe(e,t)?d.Xx.some(e):d.Xx.none(),We=(e,t)=>{return r=()=>"Could not find selector: "+t+" in "+m.PA.getHtml(e),n=((e,t)=>Ke(e,t).fold(Ie,Fe,Te))(e,t),n.fold((()=>d.Q7.error(f.HH.asString(r))),d.Q7.value);var r,n},Re=(e,t)=>((e,t)=>Ke(e,t).fold(((e,t)=>Ie(e,t).toArray()),je,Ne))(e,t),Ve=(e,t)=>{We(e,t).fold((()=>{throw new Error("Expected "+t+" to exist.")}),d.Od.noop)},Be=(e,t)=>We(e,t).fold(d.Od.noop,(()=>{throw new Error("Expected "+t+" not to exist.")})),Ue=(e,t)=>Ye(e,t,d.Od.always),Me=(e,t,r)=>De.asStep(t,[Ue(e,r)]),$e=(e,t)=>Ye(e,t,m.bv.zN),qe=(e,t)=>Ye(e,t,d.Od.not(m.bv.zN)),Ze=(e,t,r)=>De.asStep(t,[$e(e,r)]),_e=(e,t,r)=>De.asStep(t,[qe(e,r)]),ze=e=>De.binder((t=>e(t)?d.Q7.value(t):d.Q7.error(m.PA.getHtml(t)+" did not match predicate: "+e.toString()))),Ye=(e,t,r)=>De.control(((e,t)=>De.fromChains([tt(e),ze(t)]))(t,r),pe(e,10,1e4)),Ge=(e,t)=>me.sync((()=>Ve(e,t))),Je=(e,t)=>me.sync((()=>Be(e,t))),Qe=e=>De.op((t=>Ve(t,e))),et=e=>De.op((t=>Be(t,e))),tt=e=>De.binder((t=>We(t,e))),rt=e=>De.mapper((t=>Re(t,e))),nt=(e,t,r)=>De.toPromise(Ue(e,r))(t),ot=(e,t,r)=>De.toPromise($e(e,r))(t),st=(e,t,r)=>De.toPromise(qe(e,r))(t),it=(e,t,r,n)=>De.toPromise(Ye(e,r,n))(t),at=e=>(...t)=>me.sync((()=>{e.apply(void 0,t)})),ct=e=>(t,r)=>De.op((n=>{e.call(void 0,t,r,n)})),lt=(e,t,r)=>{if(t!==r)throw((e,t,r)=>{const n=new Error(e);return n.diff={expected:t,actual:r,comparison:B(t,r)},n.label=e,n.name="HtmlAssertion",n})(f.HH.asString(e),t,r)},ut=(e,t,r)=>{((e,t)=>{try{return t()}catch(t){throw(t=>oe(e,t))(t)}})(e,(()=>{"advanced"===t.type?t.doAssert(b([r],d.Xx.none())):t.doAssert(r)}))},dt=(e,t,r)=>{ut(e,I(t),m.VX.fromHtml(r))},mt=(e,t,r)=>{d.OH.each(t,((t,n)=>{const o=Re(r,n).length;f.Br.eq(f.HH.concat("Did not find "+t+" of "+n+", found: "+o+". Test: ",e),t,o)}))},ft=f.Br.eq,pt=(e,t,r)=>{f.Br.eq(f.HH.concat(e,(()=>"\nExpected : "+m.PA.getHtml(t)+"\nActual: "+m.PA.getHtml(r))),!0,m.Gs.eq(t,r))},ht=at(f.Br.eq),gt=at(lt),vt=at(mt),yt=at(ut),wt=ct(f.Br.eq),bt=ct(pt),Ot=ct(lt),xt=ct(mt),St=ct(((e,t,r)=>{ut(e,I(t),r)})),Et=ct(ut),At=e=>(t,r,n,o)=>{const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,!0,!0,null),s.view=t,s.ctrlKey=!1,s.altKey=!1,s.shiftKey=!1,s.metaKey=!1,s.button=0,s.relatedTarget=null,s.screenX=t.screenX+r,s.screenY=t.screenY+n,s.clipboardData=o,s},Ht=At("cut"),kt=At("copy"),Pt=(At("paste"),e=>{const t={length:e.length,item:t=>e[t]};return d.s5.each(e,((e,r)=>{t[r]=e})),Object.freeze(t)}),Dt=d.Id.generate("mode"),Ct=e=>t=>{t[Dt]=e},Tt=e=>t=>{const r=t;return d.Xx.from(r[Dt]).exists((t=>t===e))},Nt=Ct(0),Xt=(Ct(1),Ct(2),Tt(0)),Ft=Tt(1),jt=(Tt(2),d.Id.generate("data")),Lt=()=>{throw new Error("Invalid state dataTransfer is not in read/write mode")},Kt=e=>{const t=[],r=(e,t)=>{for(let t=0;t<e.length;t++)delete e[t];e.length=t.length,d.s5.each(t,((t,r)=>{e[r]=t}))},n={length:0,add:(o,s)=>{if(!1===Xt(e)&&Lt(),d.ZU.isString(o)){if(d.ZU.isUndefined(s))throw new Error("Failed to execute 'add' on 'DataTransferItemList': A type must be defined when adding string data.");if(d.s5.exists(t,(e=>e.type===s)))throw new Error(`Failed to execute 'add' on 'DataTransferItemList': An item already exists for type '${s}'.`);t.push(((e,t,r)=>{const n={kind:"string",type:t,getAsString:t=>{Ft(e)||d.ZU.isNull(t)||t(r)},getAsFile:d.Od.constant(null),webkitGetAsEntry:d.Od.constant(null)};return((e,t)=>{e[jt]=t})(n,r),n})(e,s,o)),r(n,t)}else t.push(((e,t)=>({kind:"file",type:t.type,getAsString:d.Od.noop,getAsFile:()=>!1===Ft(e)?t:null,webkitGetAsEntry:d.Od.constant(null)}))(e,o)),r(n,t)},remove:o=>{!1===Xt(e)&&Lt(),t.splice(o,1),r(n,t)},clear:()=>{!1===Xt(e)&&Lt(),t.splice(0,t.length),r(n,t)}};return n},It=d.Id.generate("image"),Wt=["none","copy","link","move"],Rt=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],Vt=e=>{const t=e.toLowerCase();return"text"===t?"text/plain":"url"===t?"text/uri-list":t},Bt=()=>{let e="move",t="all";const r={get dropEffect(){return e},set dropEffect(t){d.s5.contains(Wt,t)&&(e=t)},get effectAllowed(){return t},set effectAllowed(e){d.s5.contains(Rt,e)&&(t=e)},get items(){return n},get files(){if(Ft(r))return Pt([]);const e=d.s5.bind(d.s5.from(n),(e=>{if("file"===e.kind){const t=e.getAsFile();return d.ZU.isNull(t)?[]:[t]}return[]}));return Pt(e)},get types(){const e=d.s5.map(d.s5.from(n),(e=>e.type)),t=d.s5.exists(d.s5.from(n),(e=>"file"===e.kind));return e.concat(t?["Files"]:[])},setDragImage:(e,t,n)=>{var o;Xt(r)&&(o={image:e,x:t,y:n},r[It]=o)},getData:e=>Ft(r)?"":d.s5.find(d.s5.from(n),(t=>t.type===Vt(e))).bind((e=>(e=>{const t=e;return d.Xx.from(t[jt])})(e))).getOr(""),setData:(e,t)=>{Xt(r)&&(r.clearData(Vt(e)),n.add(t,Vt(e)))},clearData:e=>{if(Xt(r))if(d.ZU.isString(e)){const t=Vt(e);d.s5.findIndex(d.s5.from(n),(e=>e.type===t)).each((e=>{n.remove(e)}))}else for(let e=n.length-1;e>=0;e--)"string"===n[e].kind&&n.remove(e)}},n=Kt(r);return Nt(r),r},Ut=e=>(t,r,n,o)=>{const s=document.createEvent("CustomEvent");return s.initCustomEvent(e,!0,!0,null),s.view=t,s.ctrlKey=!1,s.altKey=!1,s.shiftKey=!1,s.metaKey=!1,s.button=0,s.relatedTarget=null,s.screenX=t.screenX+r,s.screenY=t.screenY+n,s.dataTransfer=o,s},Mt=(Ut("dragover"),Ut("dragend"),Ut("dragstart"),Ut("dragleave"),Ut("dragenter"),Ut("drop"),Ut("drag"),e=>e.dom.ownerDocument.defaultView),$t=(De.mapper((e=>{const t=Mt(e),r=Bt(),n=Ht(t,0,0,r);return e.dom.dispatchEvent(n),r})),De.mapper((e=>{const t=Mt(e),r=Bt(),n=kt(t,0,0,r);return e.dom.dispatchEvent(n),r})),e=>({start:e.start,soffset:e.soffset,finish:e.finish,foffset:e.foffset})),qt=e=>({startPath:e.startPath,soffset:e.soffset,finishPath:e.finishPath,foffset:e.foffset}),Zt=e=>(e=>!("start"in e)&&"element"in e)(e)?(e=>qt({startPath:e.element,soffset:e.offset,finishPath:e.element,foffset:e.offset}))(e):(e=>{const t=void 0!==e.finish?e.finish:e.start;return qt({startPath:e.start.element,soffset:e.start.offset,finishPath:t.element,foffset:t.offset})})(e),_t=(e,t)=>m.OG.follow(e,t).fold((()=>d.Q7.error("Could not follow path: "+t.join(","))),d.Q7.value),zt=(e,t)=>_t(e,t.startPath).bind((r=>_t(e,t.finishPath).map((e=>$t({start:r,soffset:t.soffset,finish:e,foffset:t.foffset}))))),Yt=e=>De.binder((t=>zt(t,e))),Gt=(e,t)=>De.binder((r=>_t(r,e).map((e=>$t({start:e,soffset:t,finish:e,foffset:t}))))),Jt=e=>De.binder((t=>_t(t,e))),Qt=De.mapper($t),er=De.mapper(qt),tr=(e,t)=>zt(e,t).getOrDie(),rr=(e,t)=>_t(e,t).getOrDie(),nr=d.Id.generate("input-name"),or=d.Id.generate("output-name"),sr=d.Id.generate("output-unset"),ir=e=>De.fromChains(d.s5.flatten([[De.mapper((e=>({[nr]:e,[or]:sr})))],e,[De.mapper((e=>{const t=e[or];return delete e[or],t===sr?e:t}))]])),ar=(e,t)=>De.on(((r,n,o,s)=>{t.runChain(r,((t,o)=>{const s=cr(e,t);return n({...r,...s},o)}),o,s)})),cr=(e,t)=>"_"===e?{}:{[e]:t},lr=(e,t,r)=>({...e,...cr(t,r)}),ur=(e,t,r)=>((e,t)=>De.on(((r,n,o,s)=>{if(d.OH.has(r,e)){const i=r[e];t.runChain(i,((e,t)=>{const o={...r,...e};n(o,t)}),o,s)}else o(e+" is not a field in the index object.",s)})))(e,((e,t)=>De.on(((r,n,o,s)=>{t.runChain(r,((t,r)=>{const o=cr(e,t);return n(o,r)}),o,s)})))(r,t)),dr=e=>ur(e,De.identity,or),mr=dr(nr),fr=d.Od.constant(nr),pr=(d.Od.constant(or),d.Od.constant(sr),{inputName:fr,asChain:ir,write:ar,direct:ur,writeValue:(e,t)=>De.mapper((r=>lr(r,e,t))),overwrite:(e,t)=>ur(e,t,e),read:(e,t)=>De.on(((r,n,o,s)=>{t.runChain(r[e],((e,t)=>n(r,t)),o,s)})),merge:(e,t)=>De.mapper((r=>{const n={};return d.s5.each(e,(e=>{n[e]=r[e]})),lr(r,t,n)})),bundle:e=>ar(or,De.binder(e)),output:dr,outputInput:mr,pipeline:(e,t,r,n)=>{De.pipeline([ir(e)],t,r,n)}}),hr=e=>me.raw(((t,r,n,o)=>{ve(t,e,r,n,o)})),gr=(e,t)=>{const r=[];for(let n=0;n<e;n++)r.push(t);return r},vr=(e,t)=>{const r=gr(e,t);return hr(r)},yr=(e,t,r,n)=>me.raw(((o,s,i,a)=>{const c=n=>{n<=0?i(e+"\nRan out of attempts",a):t.runStep(o,(()=>{r.runStep(o,s,(()=>{c(n-1)}),a)}),i,a)};c(n)})),wr=(e,t,r,n)=>me.async(((o,s)=>{if(n())return void setTimeout((()=>{o()}));let i=0;const a=setInterval((()=>{i+=t;try{if(n())return clearInterval(a),void o()}catch(e){return clearInterval(a),void s(e)}i>r&&(clearInterval(a),s("Waited for "+e+" for "+r+"("+i+"/"+t+") ms. Predicate condition failed."))}),t)})),br=d.KB.value(),Or=(De.op((()=>{br.on((e=>{Object.defineProperty(HTMLInputElement.prototype,"files",e.files),HTMLInputElement.prototype.click=e.click}))})),De.mapper((e=>m.WT.get(e)))),xr=De.binder((e=>m.BD.active(e).fold((()=>d.Q7.error("Could not find active element")),d.Q7.value))),Sr=De.mapper(m.Ps.getRootNode);De.fromChains([Sr,xr,Or]);var Er=r(6681);const Ar=e=>(t,r={},n)=>{const o=m.l5.owner(n);d.s5.each(e,(e=>{((e,t,r,n,o)=>{const s=t.dom,i=(e=>(e=>"shiftKey"in e||"metaKey"in e||"ctrlKey"in e||"altKey"in e)(e)?e:{shiftKey:e.shift,metaKey:e.meta,ctrlKey:e.ctrl,altKey:e.alt})(n),a=s.createEvent("KeyboardEvent"),c=()=>r,l=(e,t,r)=>{Object.defineProperty(e,t,{get:r,enumerable:!0})},u=void 0!==o?o:t,m=Er.nV.detect();if(m.browser.isSafari())((e,t,r,n,o)=>{const s=t.dom.createEvent("Events");s.initEvent(e,!0,!0),"keypress"===e&&(s.charCode=r),s.which=r,s.keyCode=r,s.shiftKey=!0===n.shiftKey,s.ctrlKey=!0===n.ctrlKey,s.metaKey=!0===n.metaKey,s.altKey=!0===n.altKey,s.getModifierState=d.Od.never,o.dom.dispatchEvent(s)})(e,t,r,i,u);else{(m.browser.isChromium()||m.browser.isFirefox())&&("keypress"===e&&l(a,"charCode",c),l(a,"keyCode",c),l(a,"which",c),l(a,"shiftKey",(()=>!0===i.shiftKey)),l(a,"metaKey",(()=>!0===i.metaKey)),l(a,"ctrlKey",(()=>!0===i.ctrlKey)),l(a,"altKey",(()=>!0===i.altKey)));const t=!0,n=!0,o=!0===i.ctrlKey,d=!0===i.altKey,f=!0===i.shiftKey,p=!0===i.metaKey,h=a;h.initKeyboardEvent?h.initKeyboardEvent(e,t,n,s.defaultView,o,d,f,p,r,r):h.initKeyEvent(e,t,n,s.defaultView,o,d,f,p,r,"keypress"===e&&m.browser.isFirefox()?r:0),u.dom.dispatchEvent(a)}})(e,o,t,r,n)}))},Hr=e=>(t,r,n={})=>{const o=m.BD.active(t).getOrDie("Could not find active element");Ar(e)(r,n,o)},kr=e=>(t,r,n={})=>me.sync((()=>{Hr(e)(t,r,n)})),Pr=["keydown"],Dr=["keyup"],Cr=["keypress"],Tr=["keydown","keyup"],Nr=Ar(Pr),Xr=Ar(Dr),Fr=Ar(Cr),jr=Ar(Tr),Lr=Hr(Pr),Kr=Hr(Dr),Ir=Hr(Cr),Wr=Hr(Tr),Rr=kr(Pr),Vr=kr(Dr),Br=kr(Cr),Ur=kr(Tr),Mr=(d.Od.constant(9),d.Od.constant(27),d.Od.constant(13),d.Od.constant(8),d.Od.constant(46),d.Od.constant(37),d.Od.constant(38),d.Od.constant(39),d.Od.constant(40),d.Od.constant(32),d.Od.constant(36),d.Od.constant(35),d.Od.constant(33),d.Od.constant(34),(e,{dx:t,dy:r,...n})=>o=>{const s=(m.HP.isElement(o)?m._1.absolute(o):(0,m.w0)(0,0)).translate(t||0,r||0),i=new MouseEvent(e,{screenX:s.left,screenY:s.top,clientX:s.left,clientY:s.top,bubbles:!0,cancelable:!0,...n});o.dom.dispatchEvent(i)}),$r=d.Od.curry(Mr,"mousedown"),qr=d.Od.curry(Mr,"mouseup"),Zr=d.Od.curry(Mr,"mousemove"),_r=d.Od.curry(Mr,"mouseover"),zr=d.Od.curry(Mr,"mouseout"),Yr=d.Od.compose(De.op,(e=>t=>{const r=t.dom;d.OH.get(r,"click").fold((()=>Mr("click",e)(t)),d.Od.call)})),Gr=d.Od.compose(De.op,(e=>Mr("contextmenu",{button:2,...e}))),Jr=d.Od.compose(De.op,_r),Qr=d.Od.compose(De.op,$r),en=d.Od.compose(De.op,qr),tn=d.Od.compose(De.op,Zr),rn=d.Od.compose(De.op,zr),nn=Yr({}),on=Gr({}),sn=(Jr({}),Qr({}),en({}),tn({}),rn({}),e=>{m.BD.focus(e),((e,t={})=>{$r(t)(e)})(e),((e,t={})=>{qr(t)(e)})(e),(e=>{const t=e.dom;if(void 0!==t.click)return t.click();((e,t,r,n,o)=>{const s=m.l5.owner(r).dom.createEvent("MouseEvents");s.initMouseEvent(e,!0,!0,window,null,n,o,n,o,!1,!1,!1,!1,t,null),r.dom.dispatchEvent(s)})("click",0,e,0,0)})(e)});var an,cn;De.op(sn),(cn=an||(an={})).JSON="json",cn.Blob="blob",cn.Text="text",cn.FormData="formdata",cn.MultipartFormData="multipart/form-data";const ln=d.O_.generate([{combo:["modifiers","letter"]},{text:["s"]},{backspace:[]}]),un=(ln.backspace,ln.text,Er.nV.detect(),(e,t,r,n)=>{const o={identifier:Date.now(),target:t.dom,clientX:r,clientY:n,pageX:r,pageY:n,radiusX:2.5,radiusY:2.5,rotationAngle:10,force:.5};if("function"==typeof TouchEvent&&"function"==typeof Touch){const r=new Touch(o),n=new TouchEvent(e,{cancelable:!0,bubbles:!0,view:window,touches:[r],targetTouches:[],changedTouches:[r]});t.dom.dispatchEvent(n)}else{const r=new UIEvent(e,{cancelable:!0,bubbles:!0,view:window});r.touches=[o],r.targetTouches=[],r.changedTouches=[o],t.dom.dispatchEvent(r)}}),dn=e=>m.HP.isText(e)?m.l5.parent(e).getOrDie():e,mn=e=>t=>{const r=m._1.absolute(dn(t));un(e,t,r.left,r.top)},fn=e=>(t,r)=>n=>{const o=m._1.absolute(dn(n));un(e,n,o.left+t,o.top+r)},pn=mn("touchstart"),hn=(fn("touchstart"),mn("touchend")),gn=(fn("touchend"),mn("touchmove")),vn=(fn("touchmove"),e=>{m.BD.focus(e),pn(e),hn(e)});De.op(vn),De.op((e=>{pn(e),hn(e)})),De.op(gn),De.op(pn),De.op(hn)},6904:(e,t,r)=>{var n=r(6734),o=r(7153),s=r(2480);r(3191);const i=(e,t)=>{const r=document.location.protocol+"//"+document.location.host;e.baseURL=-1===t.indexOf("://")?r+t:t,e.baseURI=new e.util.URI(e.baseURL)},a=(o.Od.die("The setup hooks have not run yet"),(e,t)=>e.options?e.options.get(t):e.getParam(t)),c={toolBarSelector:o.Od.constant(".mce-toolbar-grp"),menuBarSelector:".mce-menubar",dialogSelector:".mce-window",dialogCancelSelector:'div[role="button"]:contains(Cancel)',dialogCloseSelector:"button.mce-close",dialogSubmitSelector:'div[role="button"].mce-primary'},l={toolBarSelector:e=>o.s5.exists([a(e,"toolbar_mode"),a(e,"toolbar_drawer")],(e=>"floating"===e||"sliding"===e))?".tox-toolbar-overlord":".tox-toolbar",menuBarSelector:".tox-menubar",dialogSelector:'div[role="dialog"]',dialogCancelSelector:'.tox-button:contains("Cancel")',dialogCloseSelector:'.tox-button[title="Close"]',dialogSubmitSelector:'.tox-button:contains("Save")'},u=()=>(()=>{const e=o.mL.tinymce;if(!e)throw new Error("Failed to get global tinymce");return o.OH.has(e.activeEditor,"ui")})()?l:c,d=(e,t)=>new Promise(((r,n)=>{const a={toolbar_mode:"wrap",promotion:!1,...t},c=o.Id.generate("tiny-loader");s.nW.set(e,"id",c),s.FG.inBody(e)||s.AL.append(s.FG.body(),e);const l=()=>{const t=o.mL.tinymce;((e,t)=>{o.ZU.isString(t.base_url)?i(e,t.base_url):o.ZU.isString(e.baseURL)&&o.DH.contains(e.baseURL,"/project/")||i(e,"/project/node_modules/tinymce")})(t,a);const l=s.Ps.isInShadowRoot(e)?{target:e.dom}:{selector:"#"+c};t.init({...a,...l,setup:e=>{o.ZU.isFunction(a.setup)&&a.setup(e);const t=()=>{s.Xz.one("#"+c).each(s.n$.TF),n("Editor Removed")};e.once("remove",t),e.once("SkinLoaded",(()=>{e.off("remove",t),setTimeout((()=>{r(e)}),0)})),e.once("SkinLoadError",(r=>{e.off("remove",t),n(r.message)}))}})};var u;o.mL.tinymce?l():(u=(e=>o.ZU.isString(e.base_url)?e.base_url:"/project/node_modules/tinymce")(t)+"/tinymce.js",o.tV.nu((e=>{const t=s.VX.fromTag("script");s.nW.set(t,"referrerpolicy","origin"),s.nW.set(t,"src",u);const r=s.j7.bind(t,"load",(()=>{r.unbind(),n.unbind(),e(o.Q7.value(u))})),n=s.j7.bind(t,"error",(()=>{r.unbind(),n.unbind(),e(o.Q7.error(new Error("Failed to load script: "+u)))}));s.AL.append(s.FG.body(),t)}))).get((e=>{e.fold((()=>n("Failed to find a global tinymce instance")),l)}))})),m=e=>((e,t)=>n.sW.fromPromise((()=>((e,t)=>{const r=e?s.VX.fromHtml(e):s.VX.fromTag(t.inline?"div":"textarea");return d(r,t)})(null,t))))(0,e),f=(n.sW.op((e=>{const t=e.id;e.remove(),s.Xz.one("#"+t).each(s.n$.TF)})),m({}),m({inline:!0}),n.sW.mapper((e=>s.VX.fromDom(e.getDoc())))),p=n.sW.injectThunked((()=>s.VX.fromDom(document))),h=(e,t,r,o={})=>n.p$.asChain([n.p$.direct(n.p$.inputName(),e,"doc"),n.p$.direct("doc",n.yb.Hu,"activeElement"),n.p$.direct("activeElement",n.sW.op((e=>{n.s3[t](r,o,e)})),"_"),n.p$.output(n.p$.inputName())]),g=(o.Od.curry(h,f,"keypress"),o.Od.curry(h,f,"keydown"),o.Od.curry(h,f,"keystroke"),o.Od.curry(h,p,"keydown"),n.sW.mapper((e=>e.getContent())),n.sW.op((e=>{e.focus()})),n.sW.mapper((e=>s.VX.fromDom(e.getContainer()))));n.sW.mapper((e=>s.VX.fromDom(e.getBody()))),n.sW.injectThunked(s.FG.body),n.p$.asChain([n.p$.direct(n.p$.inputName(),n.sW.identity,"editor"),n.p$.direct("editor",g,"container"),n.p$.merge(["editor","container"],"data"),n.p$.direct("data",n.sW.binder((e=>n.lt.findIn(e.container,u().toolBarSelector(e.editor)))),"toolbar"),n.p$.output("toolbar")]),n.sW.fromChains([g,n.sW.binder((e=>n.lt.findIn(e,u().menuBarSelector)))])},7153:(e,t,r)=>{r.d(t,{O_:()=>ze,s5:()=>s,Od:()=>o,KL:()=>et,tV:()=>at,mL:()=>ct,Id:()=>a,OH:()=>i,Xx:()=>z,eP:()=>c,XK:()=>l,Q7:()=>nt,KB:()=>u,DH:()=>d,Jt:()=>m,ZU:()=>n,Mp:()=>f});var n={};r.r(n),r.d(n,{is:()=>b,isArray:()=>E,isArrayOf:()=>N,isBoolean:()=>H,isFunction:()=>C,isNonNullable:()=>D,isNull:()=>A,isNullable:()=>P,isNumber:()=>T,isObject:()=>x,isPlainObject:()=>S,isString:()=>O,isUndefined:()=>k});var o={};r.r(o),r.d(o,{always:()=>q,apply:()=>U,call:()=>M,compose:()=>j,compose1:()=>L,constant:()=>K,curry:()=>R,die:()=>B,identity:()=>I,never:()=>$,noarg:()=>F,noop:()=>X,not:()=>V,pipe:()=>_,tripleEquals:()=>W,weaken:()=>Z});var s={};r.r(s),r.d(s,{bind:()=>ve,chunk:()=>oe,contains:()=>te,difference:()=>Oe,each:()=>ie,eachr:()=>ae,equal:()=>we,exists:()=>re,filter:()=>le,find:()=>pe,findIndex:()=>he,findMap:()=>De,findUntil:()=>fe,flatten:()=>ge,foldl:()=>me,foldr:()=>de,forall:()=>ye,from:()=>Pe,get:()=>Ae,groupBy:()=>ue,head:()=>He,indexOf:()=>ee,last:()=>ke,map:()=>se,mapToObject:()=>xe,partition:()=>ce,pure:()=>Se,range:()=>ne,reverse:()=>be,sort:()=>Ee,unique:()=>Ce});var i={};r.r(i),r.d(i,{bifilter:()=>Ie,each:()=>Xe,equal:()=>_e,filter:()=>We,find:()=>Ve,get:()=>Me,has:()=>$e,hasNonNullableKey:()=>qe,hasOwnProperty:()=>Ne,isEmpty:()=>Ze,keys:()=>Te,map:()=>Fe,mapToArray:()=>Re,size:()=>Ue,tupleMap:()=>je,values:()=>Be});var a={};r.r(a),r.d(a,{generate:()=>ut});var c={};r.r(c),r.d(c,{bindFrom:()=>At,cat:()=>gt,equals:()=>ht,findMap:()=>yt,flatten:()=>Ht,is:()=>pt,lift2:()=>bt,lift3:()=>Ot,lift4:()=>xt,lift5:()=>St,mapFrom:()=>Et,sequence:()=>vt,someIf:()=>kt,traverse:()=>wt});var l={};r.r(l),r.d(l,{forge:()=>Tt,namespace:()=>Nt,path:()=>Pt,resolve:()=>Dt,step:()=>Ct});var u={};r.r(u),r.d(u,{api:()=>It,destroyable:()=>Lt,repeatable:()=>jt,unbindable:()=>Kt,value:()=>Wt});var d={};r.r(d),r.d(d,{capitalize:()=>_t,contains:()=>Zt,endsWith:()=>Yt,ensureLeading:()=>$t,ensureTrailing:()=>qt,fromCodePoint:()=>or,isEmpty:()=>rr,isNotEmpty:()=>tr,lTrim:()=>Qt,rTrim:()=>er,removeLeading:()=>Ut,removeTrailing:()=>Mt,repeat:()=>nr,startsWith:()=>zt,supplant:()=>Bt,toFloat:()=>ir,toInt:()=>sr,trim:()=>Jt});var m={};r.r(m),r.d(m,{cached:()=>ar});var f={};r.r(f),r.d(f,{Xv:()=>cr});var p=r(18);const h=Object.getPrototypeOf,g=(e,t,r)=>{var n;return!!r(e,t.prototype)||(null===(n=e.constructor)||void 0===n?void 0:n.name)===t.name},v=e=>t=>(e=>{const t=typeof e;return null===e?"null":"object"===t&&Array.isArray(e)?"array":"object"===t&&g(e,String,((e,t)=>t.isPrototypeOf(e)))?"string":t})(t)===e,y=e=>t=>typeof t===e,w=e=>t=>e===t,b=(e,t)=>x(e)&&g(e,t,((e,t)=>h(e)===t)),O=v("string"),x=v("object"),S=e=>b(e,Object),E=v("array"),A=w(null),H=y("boolean"),k=w(void 0),P=e=>null==e,D=e=>!P(e),C=y("function"),T=y("number"),N=(e,t)=>{if(E(e)){for(let r=0,n=e.length;r<n;++r)if(!t(e[r]))return!1;return!0}return!1},X=()=>{},F=e=>()=>e(),j=(e,t)=>(...r)=>e(t.apply(null,r)),L=(e,t)=>r=>e(t(r)),K=e=>()=>e,I=e=>e,W=(e,t)=>e===t;function R(e,...t){return(...r)=>{const n=t.concat(r);return e.apply(null,n)}}const V=e=>t=>!e(t),B=e=>()=>{throw new Error(e)},U=e=>e(),M=e=>{e()},$=K(!1),q=K(!0),Z=e=>e,_=(e,t,r,n,o,s,i,a)=>{const c=t(e);if(P(r))return c;const l=r(c);if(P(n))return l;const u=n(l);if(P(o))return u;const d=o(u);if(P(s))return d;const m=s(d);if(P(i))return m;const f=i(m);return P(a)?f:a(f)};class z{constructor(e,t){this.tag=e,this.value=t}static some(e){return new z(!0,e)}static none(){return z.singletonNone}fold(e,t){return this.tag?t(this.value):e()}isSome(){return this.tag}isNone(){return!this.tag}map(e){return this.tag?z.some(e(this.value)):z.none()}bind(e){return this.tag?e(this.value):z.none()}exists(e){return this.tag&&e(this.value)}forall(e){return!this.tag||e(this.value)}filter(e){return!this.tag||e(this.value)?this:z.none()}getOr(e){return this.tag?this.value:e}or(e){return this.tag?this:e}getOrThunk(e){return this.tag?this.value:e()}orThunk(e){return this.tag?this:e()}getOrDie(e){if(this.tag)return this.value;throw new Error(null!=e?e:"Called getOrDie on None")}static from(e){return D(e)?z.some(e):z.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(e){this.tag&&e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}z.singletonNone=new z(!1);const Y=Array.prototype.slice,G=Array.prototype.indexOf,J=Array.prototype.push,Q=(e,t)=>G.call(e,t),ee=(e,t)=>{const r=Q(e,t);return-1===r?z.none():z.some(r)},te=(e,t)=>Q(e,t)>-1,re=(e,t)=>{for(let r=0,n=e.length;r<n;r++)if(t(e[r],r))return!0;return!1},ne=(e,t)=>{const r=[];for(let n=0;n<e;n++)r.push(t(n));return r},oe=(e,t)=>{const r=[];for(let n=0;n<e.length;n+=t){const o=Y.call(e,n,n+t);r.push(o)}return r},se=(e,t)=>{const r=e.length,n=new Array(r);for(let o=0;o<r;o++){const r=e[o];n[o]=t(r,o)}return n},ie=(e,t)=>{for(let r=0,n=e.length;r<n;r++)t(e[r],r)},ae=(e,t)=>{for(let r=e.length-1;r>=0;r--)t(e[r],r)},ce=(e,t)=>{const r=[],n=[];for(let o=0,s=e.length;o<s;o++){const s=e[o];(t(s,o)?r:n).push(s)}return{pass:r,fail:n}},le=(e,t)=>{const r=[];for(let n=0,o=e.length;n<o;n++){const o=e[n];t(o,n)&&r.push(o)}return r},ue=(e,t)=>{if(0===e.length)return[];{let r=t(e[0]);const n=[];let o=[];for(let s=0,i=e.length;s<i;s++){const i=e[s],a=t(i);a!==r&&(n.push(o),o=[]),r=a,o.push(i)}return 0!==o.length&&n.push(o),n}},de=(e,t,r)=>(ae(e,((e,n)=>{r=t(r,e,n)})),r),me=(e,t,r)=>(ie(e,((e,n)=>{r=t(r,e,n)})),r),fe=(e,t,r)=>{for(let n=0,o=e.length;n<o;n++){const o=e[n];if(t(o,n))return z.some(o);if(r(o,n))break}return z.none()},pe=(e,t)=>fe(e,t,$),he=(e,t)=>{for(let r=0,n=e.length;r<n;r++)if(t(e[r],r))return z.some(r);return z.none()},ge=e=>{const t=[];for(let r=0,n=e.length;r<n;++r){if(!E(e[r]))throw new Error("Arr.flatten item "+r+" was not an array, input: "+e);J.apply(t,e[r])}return t},ve=(e,t)=>ge(se(e,t)),ye=(e,t)=>{for(let r=0,n=e.length;r<n;++r)if(!0!==t(e[r],r))return!1;return!0},we=(e,t,r=p.fo)=>p.k1(r).eq(e,t),be=e=>{const t=Y.call(e,0);return t.reverse(),t},Oe=(e,t)=>le(e,(e=>!te(t,e))),xe=(e,t)=>{const r={};for(let n=0,o=e.length;n<o;n++){const o=e[n];r[String(o)]=t(o,n)}return r},Se=e=>[e],Ee=(e,t)=>{const r=Y.call(e,0);return r.sort(t),r},Ae=(e,t)=>t>=0&&t<e.length?z.some(e[t]):z.none(),He=e=>Ae(e,0),ke=e=>Ae(e,e.length-1),Pe=C(Array.from)?Array.from:e=>Y.call(e),De=(e,t)=>{for(let r=0;r<e.length;r++){const n=t(e[r],r);if(n.isSome())return n}return z.none()},Ce=(e,t)=>{const r=[],n=C(t)?e=>re(r,(r=>t(r,e))):e=>te(r,e);for(let t=0,o=e.length;t<o;t++){const o=e[t];n(o)||r.push(o)}return r},Te=Object.keys,Ne=Object.hasOwnProperty,Xe=(e,t)=>{const r=Te(e);for(let n=0,o=r.length;n<o;n++){const o=r[n];t(e[o],o)}},Fe=(e,t)=>je(e,((e,r)=>({k:r,v:t(e,r)}))),je=(e,t)=>{const r={};return Xe(e,((e,n)=>{const o=t(e,n);r[o.k]=o.v})),r},Le=e=>(t,r)=>{e[r]=t},Ke=(e,t,r,n)=>{Xe(e,((e,o)=>{(t(e,o)?r:n)(e,o)}))},Ie=(e,t)=>{const r={},n={};return Ke(e,t,Le(r),Le(n)),{t:r,f:n}},We=(e,t)=>{const r={};return Ke(e,t,Le(r),X),r},Re=(e,t)=>{const r=[];return Xe(e,((e,n)=>{r.push(t(e,n))})),r},Ve=(e,t)=>{const r=Te(e);for(let n=0,o=r.length;n<o;n++){const o=r[n],s=e[o];if(t(s,o,e))return z.some(s)}return z.none()},Be=e=>Re(e,I),Ue=e=>Te(e).length,Me=(e,t)=>$e(e,t)?z.from(e[t]):z.none(),$e=(e,t)=>Ne.call(e,t),qe=(e,t)=>$e(e,t)&&void 0!==e[t]&&null!==e[t],Ze=e=>{for(const t in e)if(Ne.call(e,t))return!1;return!0},_e=(e,t,r=p.fo)=>p.Ig(r).eq(e,t),ze={generate:e=>{if(!E(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");const t=[],r={};return ie(e,((n,o)=>{const s=Te(n);if(1!==s.length)throw new Error("one and only one name per case");const i=s[0],a=n[i];if(void 0!==r[i])throw new Error("duplicate key detected:"+i);if("cata"===i)throw new Error("cannot have a case named cata (sorry)");if(!E(a))throw new Error("case arguments must be an array");t.push(i),r[i]=(...r)=>{const n=r.length;if(n!==a.length)throw new Error("Wrong number of arguments to case "+i+". Expected "+a.length+" ("+a+"), got "+n);return{fold:(...t)=>{if(t.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+t.length);return t[o].apply(null,r)},match:e=>{const n=Te(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));if(!ye(t,(e=>te(n,e))))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[i].apply(null,r)},log:e=>{console.log(e,{constructors:t,constructor:i,params:r})}}}})),r}},Ye=e=>{let t=z.none(),r=[];const n=e=>{o()?s(e):r.push(e)},o=()=>t.isSome(),s=e=>{t.each((t=>{setTimeout((()=>{e(t)}),0)}))};return e((e=>{o()||(t=z.some(e),ie(r,s),r=[])})),{get:n,map:e=>Ye((t=>{n((r=>{t(e(r))}))})),isReady:o}},Ge={nu:Ye,pure:e=>Ye((t=>{t(e)}))},Je=e=>{setTimeout((()=>{throw e}),0)},Qe=e=>{const t=t=>{e().then(t,Je)};return{map:t=>Qe((()=>e().then(t))),bind:t=>Qe((()=>e().then((e=>t(e).toPromise())))),anonBind:t=>Qe((()=>e().then((()=>t.toPromise())))),toLazy:()=>Ge.nu(t),toCached:()=>{let t=null;return Qe((()=>(null===t&&(t=e()),t)))},toPromise:e,get:t}},et={nu:e=>Qe((()=>new Promise(e))),pure:e=>Qe((()=>Promise.resolve(e)))},tt=e=>{const t=t=>t(e),r=K(e),n=()=>o,o={tag:!0,inner:e,fold:(t,r)=>r(e),isValue:q,isError:$,map:t=>nt.value(t(e)),mapError:n,bind:t,exists:t,forall:t,getOr:r,or:n,getOrThunk:r,orThunk:n,getOrDie:r,each:t=>{t(e)},toOptional:()=>z.some(e)};return o},rt=e=>{const t=()=>r,r={tag:!1,inner:e,fold:(t,r)=>t(e),isValue:$,isError:q,map:t,mapError:t=>nt.error(t(e)),bind:t,exists:$,forall:q,getOr:I,or:I,getOrThunk:U,orThunk:U,getOrDie:B(String(e)),each:X,toOptional:z.none};return r},nt={value:tt,error:rt,fromOption:(e,t)=>e.fold((()=>rt(t)),tt)},ot=e=>({...e,toCached:()=>ot(e.toCached()),bindFuture:t=>ot(e.bind((e=>e.fold((e=>et.pure(nt.error(e))),(e=>t(e)))))),bindResult:t=>ot(e.map((e=>e.bind(t)))),mapResult:t=>ot(e.map((e=>e.map(t)))),mapError:t=>ot(e.map((e=>e.mapError(t)))),foldResult:(t,r)=>e.map((e=>e.fold(t,r))),withTimeout:(t,r)=>ot(et.nu((n=>{let o=!1;const s=setTimeout((()=>{o=!0,n(nt.error(r()))}),t);e.get((e=>{o||(clearTimeout(s),n(e))}))})))}),st=e=>ot(et.nu(e)),it=e=>ot(et.pure(nt.value(e))),at={nu:st,wrap:ot,pure:it,value:it,error:e=>ot(et.pure(nt.error(e))),fromResult:e=>ot(et.pure(e)),fromFuture:e=>ot(e.map(nt.value)),fromPromise:e=>st((t=>{e.then((e=>{t(nt.value(e))}),(e=>{t(nt.error(e))}))}))},ct="undefined"!=typeof window?window:Function("return this;")();let lt=0;const ut=e=>{const t=(new Date).getTime(),r=Math.floor(1e9*Math.random());return lt++,e+"_"+r+lt+String(t)},dt=e=>t=>(e=>1===e.tag)(t)?t.value:e,mt=(dt(null),dt(void 0),e=>(...t)=>{if(0===t.length)throw new Error("Can't merge zero objects");const r={};for(let n=0;n<t.length;n++){const o=t[n];for(const t in o)$e(o,t)&&(r[t]=e(r[t],o[t]))}return r}),ft=mt(((e,t)=>S(e)&&S(t)?ft(e,t):t)),pt=(mt(((e,t)=>t)),(e,t,r=W)=>e.exists((e=>r(e,t)))),ht=(e,t,r=W)=>bt(e,t,r).getOr(e.isNone()&&t.isNone()),gt=e=>{const t=[],r=e=>{t.push(e)};for(let t=0;t<e.length;t++)e[t].each(r);return t},vt=e=>{const t=[];for(let r=0;r<e.length;r++){const n=e[r];if(!n.isSome())return z.none();t.push(n.getOrDie())}return z.some(t)},yt=De,wt=(e,t)=>vt(se(e,t)),bt=(e,t,r)=>e.isSome()&&t.isSome()?z.some(r(e.getOrDie(),t.getOrDie())):z.none(),Ot=(e,t,r,n)=>e.isSome()&&t.isSome()&&r.isSome()?z.some(n(e.getOrDie(),t.getOrDie(),r.getOrDie())):z.none(),xt=(e,t,r,n,o)=>e.isSome()&&t.isSome()&&r.isSome()&&n.isSome()?z.some(o(e.getOrDie(),t.getOrDie(),r.getOrDie(),n.getOrDie())):z.none(),St=(e,t,r,n,o,s)=>e.isSome()&&t.isSome()&&r.isSome()&&n.isSome()&&o.isSome()?z.some(s(e.getOrDie(),t.getOrDie(),r.getOrDie(),n.getOrDie(),o.getOrDie())):z.none(),Et=(e,t)=>null!=e?z.some(t(e)):z.none(),At=(e,t)=>null!=e?t(e):z.none(),Ht=e=>e.bind(I),kt=(e,t)=>e?z.some(t):z.none(),Pt=(e,t)=>{let r=null!=t?t:ct;for(let t=0;t<e.length&&null!=r;++t)r=r[e[t]];return r},Dt=(e,t)=>{const r=e.split(".");return Pt(r,t)},Ct=(e,t)=>(void 0!==e[t]&&null!==e[t]||(e[t]={}),e[t]),Tt=(e,t)=>{let r=void 0!==t?t:ct;for(let t=0;t<e.length;++t)r=Ct(r,e[t]);return r},Nt=(e,t)=>{const r=e.split(".");return Tt(r,t)},Xt=(ze.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),e=>{let t=e;return{get:()=>t,set:e=>{t=e}}}),Ft=e=>{const t=Xt(z.none()),r=()=>t.get().each(e);return{clear:()=>{r(),t.set(z.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:e=>{r(),t.set(z.some(e))}}},jt=e=>{const t=Xt(z.none()),r=()=>t.get().each((e=>clearInterval(e)));return{clear:()=>{r(),t.set(z.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:n=>{r(),t.set(z.some(setInterval(n,e)))}}},Lt=()=>Ft((e=>e.destroy())),Kt=()=>Ft((e=>e.unbind())),It=()=>{const e=Lt();return{...e,run:t=>e.get().each(t)}},Wt=()=>{const e=Ft(X);return{...e,on:t=>e.get().each(t)}},Rt=ze.generate([{starts:["value","f"]},{pattern:["regex","f"]},{contains:["value","f"]},{exact:["value","f"]},{all:[]},{not:["stringMatch"]}]),Vt=(Rt.starts,Rt.pattern,Rt.contains,Rt.exact,Rt.all,Rt.not,(e,t,r)=>""===t||e.length>=t.length&&e.substr(r,r+t.length)===t),Bt=(e,t)=>e.replace(/\$\{([^{}]*)\}/g,((e,r)=>{const n=t[r];return(e=>{const t=typeof e;return"string"===t||"number"===t})(n)?n.toString():e})),Ut=(e,t)=>zt(e,t)?((e,t)=>e.substring(t))(e,t.length):e,Mt=(e,t)=>Yt(e,t)?((e,t)=>e.substring(0,e.length-t))(e,t.length):e,$t=(e,t)=>zt(e,t)?e:((e,t)=>t+e)(e,t),qt=(e,t)=>Yt(e,t)?e:((e,t)=>e+t)(e,t),Zt=(e,t,r=0,n)=>{const o=e.indexOf(t,r);return-1!==o&&(!!k(n)||o+t.length<=n)},_t=e=>""===e?"":e.charAt(0).toUpperCase()+e.substring(1),zt=(e,t)=>Vt(e,t,0),Yt=(e,t)=>Vt(e,t,e.length-t.length),Gt=e=>t=>t.replace(e,""),Jt=Gt(/^\s+|\s+$/g),Qt=Gt(/^\s+/g),er=Gt(/\s+$/g),tr=e=>e.length>0,rr=e=>!tr(e),nr=(e,t)=>t<=0?"":new Array(t+1).join(e),or=String.fromCodePoint,sr=(e,t=10)=>{const r=parseInt(e,t);return isNaN(r)?z.none():z.some(r)},ir=e=>{const t=parseFloat(e);return isNaN(t)?z.none():z.some(t)},ar=e=>{let t,r=!1;return(...n)=>(r||(r=!0,t=e.apply(null,n)),t)},cr="\ufeff"},9344:(e,t,r)=>{r.d(t,{Tj:()=>n,Xb:()=>o,di:()=>s});var n=function(e,t){for(var r=e.length,n=new Array(r),o=0;o<r;o++){var s=e[o];n[o]=t(s)}return n},o=function(e,t,r){for(var n=e.length,o=new Array(n),s=0;s<n-1;s++){var i=e[s];o[s]=r(t(i))}return n>0&&(o[n-1]=t(e[n-1])),o},s=function(e,t){return Array.prototype.slice.call(e).sort(t)}}}]);